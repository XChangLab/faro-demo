try{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{})["__faroBundleId_auth-ui"]="7d9b94b5-ac1d-44b7-89d6-2188ed4083d9"}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[636],{582:function(e,t,n){var r;!function(i,s){"use strict";var o="function",a="undefined",u="object",l="string",c="major",d="model",p="name",f="type",h="vendor",g="version",m="architecture",b="console",v="mobile",_="tablet",y="smarttv",w="wearable",S="embedded",E="Amazon",T="Apple",O="ASUS",A="BlackBerry",C="Browser",x="Chrome",L="Firefox",R="Google",I="Honor",P="Huawei",N="Microsoft",k="Motorola",D="Nvidia",j="OnePlus",M="Opera",U="OPPO",B="Samsung",$="Sharp",z="Sony",F="Xiaomi",V="Zebra",H="Facebook",q="Chromium OS",G="Mac OS",K=" Browser",W=function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2==0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n},X=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},J=function(e,t){return typeof e===l&&-1!==Q(t).indexOf(Q(e))},Q=function(e){return e.toLowerCase()},Y=function(e,t){if(typeof e===l)return e=e.replace(/^\s\s*/,""),typeof t===a?e:e.substring(0,500)},Z=function(e,t){for(var n,r,i,a,l,c,d=0;d<t.length&&!l;){var p=t[d],f=t[d+1];for(n=r=0;n<p.length&&!l&&p[n];)if(l=p[n++].exec(e))for(i=0;i<f.length;i++)c=l[++r],typeof(a=f[i])===u&&a.length>0?2===a.length?typeof a[1]==o?this[a[0]]=a[1].call(this,c):this[a[0]]=a[1]:3===a.length?typeof a[1]!==o||a[1].exec&&a[1].test?this[a[0]]=c?c.replace(a[1],a[2]):void 0:this[a[0]]=c?a[1].call(this,c,a[2]):void 0:4===a.length&&(this[a[0]]=c?a[3].call(this,c.replace(a[1],a[2])):s):this[a]=c||s;d+=2}},ee=function(e,t){for(var n in t)if(typeof t[n]===u&&t[n].length>0){for(var r=0;r<t[n].length;r++)if(J(t[n][r],e))return"?"===n?s:n}else if(J(t[n],e))return"?"===n?s:n;return t.hasOwnProperty("*")?t["*"]:e},et={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},en={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[g,[p,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[g,[p,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[p,g],[/opios[\/ ]+([\w\.]+)/i],[g,[p,M+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[g,[p,M+" GX"]],[/\bopr\/([\w\.]+)/i],[g,[p,M]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[g,[p,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[g,[p,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[p,g],[/quark(?:pc)?\/([-\w\.]+)/i],[g,[p,"Quark"]],[/\bddg\/([\w\.]+)/i],[g,[p,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[g,[p,"UC"+C]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[g,[p,"WeChat"]],[/konqueror\/([\w\.]+)/i],[g,[p,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[g,[p,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[g,[p,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[g,[p,"Smart Lenovo "+C]],[/(avast|avg)\/([\w\.]+)/i],[[p,/(.+)/,"$1 Secure "+C],g],[/\bfocus\/([\w\.]+)/i],[g,[p,L+" Focus"]],[/\bopt\/([\w\.]+)/i],[g,[p,M+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[g,[p,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[g,[p,"Dolphin"]],[/coast\/([\w\.]+)/i],[g,[p,M+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[g,[p,"MIUI"+K]],[/fxios\/([\w\.-]+)/i],[g,[p,L]],[/\bqihoobrowser\/?([\w\.]*)/i],[g,[p,"360"]],[/\b(qq)\/([\w\.]+)/i],[[p,/(.+)/,"$1Browser"],g],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[p,/(.+)/,"$1"+K],g],[/samsungbrowser\/([\w\.]+)/i],[g,[p,B+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[g,[p,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[p,"Sogou Mobile"],g],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[p,g],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[p],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[g,p],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[p,H],g],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/(daum)apps[\/ ]([\w\.]+)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[p,g],[/\bgsa\/([\w\.]+) .*safari\//i],[g,[p,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[g,[p,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[g,[p,x+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[p,x+" WebView"],g],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[g,[p,"Android "+C]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[p,g],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[g,[p,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[g,p],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[p,[g,ee,{"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[p,g],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[p,"Netscape"],g],[/(wolvic|librewolf)\/([\w\.]+)/i],[p,g],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[g,[p,L+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(amaya|dillo|doris|icab|ladybird|lynx|mosaic|netsurf|obigo|polaris|w3m|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/\b(links) \(([\w\.]+)/i],[p,[g,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[p,[g,/master.|lts./,""]]],cpu:[[/\b((amd|x|x86[-_]?|wow|win)64)\b/i],[[m,"amd64"]],[/(ia32(?=;))/i,/\b((i[346]|x)86)(pc)?\b/i],[[m,"ia32"]],[/\b(aarch64|arm(v?[89]e?l?|_?64))\b/i],[[m,"arm64"]],[/\b(arm(v[67])?ht?n?[fl]p?)\b/i],[[m,"armhf"]],[/( (ce|mobile); ppc;|\/[\w\.]+arm\b)/i],[[m,"arm"]],[/((ppc|powerpc)(64)?)( mac|;|\))/i],[[m,/ower/,"",Q]],[/ sun4\w[;\)]/i],[[m,"sparc"]],[/\b(avr32|ia64(?=;)|68k(?=\))|\barm(?=v([1-7]|[5-7]1)l?|;|eabi)|(irix|mips|sparc)(64)?\b|pa-risc)/i],[[m,Q]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[d,[h,B],[f,_]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[d,[h,B],[f,v]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[d,[h,T],[f,v]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[d,[h,T],[f,_]],[/(macintosh);/i],[d,[h,T]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[d,[h,$],[f,v]],[/\b((?:brt|eln|hey2?|gdi|jdn)-a?[lnw]09|(?:ag[rm]3?|jdn2|kob2)-a?[lw]0[09]hn)(?: bui|\)|;)/i],[d,[h,I],[f,_]],[/honor([-\w ]+)[;\)]/i],[d,[h,I],[f,v]],[/\b((?:ag[rs][2356]?k?|bah[234]?|bg[2o]|bt[kv]|cmr|cpn|db[ry]2?|jdn2|got|kob2?k?|mon|pce|scm|sht?|[tw]gr|vrd)-[ad]?[lw][0125][09]b?|605hw|bg2-u03|(?:gem|fdr|m2|ple|t1)-[7a]0[1-4][lu]|t1-a2[13][lw]|mediapad[\w\. ]*(?= bui|\)))\b(?!.+d\/s)/i],[d,[h,P],[f,_]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[d,[h,P],[f,v]],[/oid[^\)]+; (2[\dbc]{4}(182|283|rp\w{2})[cgl]|m2105k81a?c)(?: bui|\))/i,/\b((?:red)?mi[-_ ]?pad[\w- ]*)(?: bui|\))/i],[[d,/_/g," "],[h,F],[f,_]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i,/ ([\w ]+) miui\/v?\d/i],[[d,/_/g," "],[h,F],[f,v]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[d,[h,U],[f,v]],[/\b(opd2(\d{3}a?))(?: bui|\))/i],[d,[h,ee,{OnePlus:["304","403","203"],"*":U}],[f,_]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[d,[h,"Vivo"],[f,v]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[d,[h,"Realme"],[f,v]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto(?! 360)[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[d,[h,k],[f,v]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[d,[h,k],[f,_]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[d,[h,"LG"],[f,_]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv|watch)\w+)/i,/\blg-?([\d\w]+) bui/i],[d,[h,"LG"],[f,v]],[/(ideatab[-\w ]+|602lv|d-42a|a101lv|a2109a|a3500-hv|s[56]000|pb-6505[my]|tb-?x?\d{3,4}(?:f[cu]|xu|[av])|yt\d?-[jx]?\d+[lfmx])( bui|;|\)|\/)/i,/lenovo ?(b[68]0[08]0-?[hf]?|tab(?:[\w- ]+?)|tb[\w-]{6,7})( bui|;|\)|\/)/i],[d,[h,"Lenovo"],[f,_]],[/(nokia) (t[12][01])/i],[h,d,[f,_]],[/(?:maemo|nokia).*(n900|lumia \d+|rm-\d+)/i,/nokia[-_ ]?(([-\w\. ]*))/i],[[d,/_/g," "],[f,v],[h,"Nokia"]],[/(pixel (c|tablet))\b/i],[d,[h,R],[f,_]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[d,[h,R],[f,v]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[d,[h,z],[f,v]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[d,"Xperia Tablet"],[h,z],[f,_]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[d,[h,j],[f,v]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[d,[h,E],[f,_]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[d,/(.+)/g,"Fire Phone $1"],[h,E],[f,v]],[/(playbook);[-\w\),; ]+(rim)/i],[d,h,[f,_]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[d,[h,A],[f,v]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[d,[h,O],[f,_]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[d,[h,O],[f,v]],[/(nexus 9)/i],[d,[h,"HTC"],[f,_]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[h,[d,/_/g," "],[f,v]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[d,[h,"TCL"],[f,_]],[/(itel) ((\w+))/i],[[h,Q],d,[f,ee,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[d,[h,"Acer"],[f,_]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[d,[h,"Meizu"],[f,v]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[d,[h,"Ulefone"],[f,v]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[d,[h,"Energizer"],[f,v]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[d,[h,"Cat"],[f,v]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[d,[h,"Smartfren"],[f,v]],[/droid.+; (a(?:015|06[35]|142p?))/i],[d,[h,"Nothing"],[f,v]],[/; (x67 5g|tikeasy \w+|ac[1789]\d\w+)( b|\))/i,/archos ?(5|gamepad2?|([\w ]*[t1789]|hello) ?\d+[\w ]*)( b|\))/i],[d,[h,"Archos"],[f,_]],[/archos ([\w ]+)( b|\))/i,/; (ac[3-6]\d\w{2,8})( b|\))/i],[d,[h,"Archos"],[f,v]],[/(imo) (tab \w+)/i,/(infinix) (x1101b?)/i],[h,d,[f,_]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus(?! zenw)|dell|jolla|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (hmd|imo) ([\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w ]+?)(?: bui|\)|\/)/i,/(oppo) ?([\w ]+) bui/i],[h,d,[f,v]],[/(kobo)\s(ereader|touch)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[h,d,[f,_]],[/(surface duo)/i],[d,[h,N],[f,_]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[d,[h,"Fairphone"],[f,v]],[/(u304aa)/i],[d,[h,"AT&T"],[f,v]],[/\bsie-(\w*)/i],[d,[h,"Siemens"],[f,v]],[/\b(rct\w+) b/i],[d,[h,"RCA"],[f,_]],[/\b(venue[\d ]{2,7}) b/i],[d,[h,"Dell"],[f,_]],[/\b(q(?:mv|ta)\w+) b/i],[d,[h,"Verizon"],[f,_]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[d,[h,"Barnes & Noble"],[f,_]],[/\b(tm\d{3}\w+) b/i],[d,[h,"NuVision"],[f,_]],[/\b(k88) b/i],[d,[h,"ZTE"],[f,_]],[/\b(nx\d{3}j) b/i],[d,[h,"ZTE"],[f,v]],[/\b(gen\d{3}) b.+49h/i],[d,[h,"Swiss"],[f,v]],[/\b(zur\d{3}) b/i],[d,[h,"Swiss"],[f,_]],[/\b((zeki)?tb.*\b) b/i],[d,[h,"Zeki"],[f,_]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[h,"Dragon Touch"],d,[f,_]],[/\b(ns-?\w{0,9}) b/i],[d,[h,"Insignia"],[f,_]],[/\b((nxa|next)-?\w{0,9}) b/i],[d,[h,"NextBook"],[f,_]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[h,"Voice"],d,[f,v]],[/\b(lvtel\-)?(v1[12]) b/i],[[h,"LvTel"],d,[f,v]],[/\b(ph-1) /i],[d,[h,"Essential"],[f,v]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[d,[h,"Envizen"],[f,_]],[/\b(trio[-\w\. ]+) b/i],[d,[h,"MachSpeed"],[f,_]],[/\btu_(1491) b/i],[d,[h,"Rotor"],[f,_]],[/((?:tegranote|shield t(?!.+d tv))[\w- ]*?)(?: b|\))/i],[d,[h,D],[f,_]],[/(sprint) (\w+)/i],[h,d,[f,v]],[/(kin\.[onetw]{3})/i],[[d,/\./g," "],[h,N],[f,v]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[d,[h,V],[f,_]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[d,[h,V],[f,v]],[/smart-tv.+(samsung)/i],[h,[f,y]],[/hbbtv.+maple;(\d+)/i],[[d,/^/,"SmartTV"],[h,B],[f,y]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[h,"LG"],[f,y]],[/(apple) ?tv/i],[h,[d,T+" TV"],[f,y]],[/crkey/i],[[d,x+"cast"],[h,R],[f,y]],[/droid.+aft(\w+)( bui|\))/i],[d,[h,E],[f,y]],[/(shield \w+ tv)/i],[d,[h,D],[f,y]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[d,[h,$],[f,y]],[/(bravia[\w ]+)( bui|\))/i],[d,[h,z],[f,y]],[/(mi(tv|box)-?\w+) bui/i],[d,[h,F],[f,y]],[/Hbbtv.*(technisat) (.*);/i],[h,d,[f,y]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[h,Y],[d,Y],[f,y]],[/droid.+; ([\w- ]+) (?:android tv|smart[- ]?tv)/i],[d,[f,y]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[f,y]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[h,d,[f,b]],[/droid.+; (shield)( bui|\))/i],[d,[h,D],[f,b]],[/(playstation \w+)/i],[d,[h,z],[f,b]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[d,[h,N],[f,b]],[/\b(sm-[lr]\d\d[0156][fnuw]?s?|gear live)\b/i],[d,[h,B],[f,w]],[/((pebble))app/i,/(asus|google|lg|oppo) ((pixel |zen)?watch[\w ]*)( bui|\))/i],[h,d,[f,w]],[/(ow(?:19|20)?we?[1-3]{1,3})/i],[d,[h,U],[f,w]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[d,[h,T],[f,w]],[/(opwwe\d{3})/i],[d,[h,j],[f,w]],[/(moto 360)/i],[d,[h,k],[f,w]],[/(smartwatch 3)/i],[d,[h,z],[f,w]],[/(g watch r)/i],[d,[h,"LG"],[f,w]],[/droid.+; (wt63?0{2,3})\)/i],[d,[h,V],[f,w]],[/droid.+; (glass) \d/i],[d,[h,R],[f,w]],[/(pico) (4|neo3(?: link|pro)?)/i],[h,d,[f,w]],[/; (quest( \d| pro)?)/i],[d,[h,H],[f,w]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[h,[f,S]],[/(aeobc)\b/i],[d,[h,E],[f,S]],[/(homepod).+mac os/i],[d,[h,T],[f,S]],[/windows iot/i],[[f,S]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[d,[f,v]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[d,[f,_]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[f,_]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[f,v]],[/droid .+?; ([\w\. -]+)( bui|\))/i],[d,[h,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[g,[p,"EdgeHTML"]],[/(arkweb)\/([\w\.]+)/i],[p,g],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[g,[p,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[p,g],[/ladybird\//i],[[p,"LibWeb"]],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[g,p]],os:[[/microsoft (windows) (vista|xp)/i],[p,g],[/(windows (?:phone(?: os)?|mobile|iot))[\/ ]?([\d\.\w ]*)/i],[p,[g,ee,et]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[g,ee,et],[p,"Windows"]],[/[adehimnop]{4,7}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[g,/_/g,"."],[p,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[p,G],[g,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[g,p],[/(ubuntu) ([\w\.]+) like android/i],[[p,/(.+)/,"$1 Touch"],g],[/(android|bada|blackberry|kaios|maemo|meego|openharmony|qnx|rim tablet os|sailfish|series40|symbian|tizen|webos)\w*[-\/; ]?([\d\.]*)/i],[p,g],[/\(bb(10);/i],[g,[p,A]],[/(?:symbian ?os|symbos|s60(?=;)|series ?60)[-\/ ]?([\w\.]*)/i],[g,[p,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[g,[p,L+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[g,[p,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[g,[p,"watchOS"]],[/crkey\/([\d\.]+)/i],[g,[p,x+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[p,q],g],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux)(?: arm\w*| x86\w*| ?)([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[p,g],[/(sunos) ?([\w\.\d]*)/i],[[p,"Solaris"],g],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[p,g]]},er=function(e,t){if(typeof e===u&&(t=e,e=s),!(this instanceof er))return new er(e,t).getResult();var n=typeof i!==a&&i.navigator?i.navigator:s,r=e||(n&&n.userAgent?n.userAgent:""),b=n&&n.userAgentData?n.userAgentData:s,y=t?W(en,t):en,w=n&&n.userAgent==r;return this.getBrowser=function(){var e,t={};return t[p]=s,t[g]=s,Z.call(t,r,y.browser),t[c]=typeof(e=t[g])===l?e.replace(/[^\d\.]/g,"").split(".")[0]:s,w&&n&&n.brave&&typeof n.brave.isBrave==o&&(t[p]="Brave"),t},this.getCPU=function(){var e={};return e[m]=s,Z.call(e,r,y.cpu),e},this.getDevice=function(){var e={};return e[h]=s,e[d]=s,e[f]=s,Z.call(e,r,y.device),w&&!e[f]&&b&&b.mobile&&(e[f]=v),w&&"Macintosh"==e[d]&&n&&typeof n.standalone!==a&&n.maxTouchPoints&&n.maxTouchPoints>2&&(e[d]="iPad",e[f]=_),e},this.getEngine=function(){var e={};return e[p]=s,e[g]=s,Z.call(e,r,y.engine),e},this.getOS=function(){var e={};return e[p]=s,e[g]=s,Z.call(e,r,y.os),w&&!e[p]&&b&&b.platform&&"Unknown"!=b.platform&&(e[p]=b.platform.replace(/chrome os/i,q).replace(/macos/i,G)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(e){return r=typeof e===l&&e.length>500?Y(e,500):e,this},this.setUA(r),this};er.VERSION="1.0.41",er.BROWSER=X([p,g,c]),er.CPU=X([m]),er.DEVICE=X([d,h,f,b,v,y,_,w,S]),er.ENGINE=er.OS=X([p,g]),typeof t!==a?(e.exports&&(t=e.exports=er),t.UAParser=er):n.amdO?s===(r=(function(){return er}).call(t,n,t,e))||(e.exports=r):typeof i!==a&&(i.UAParser=er);var ei=typeof i!==a&&(i.jQuery||i.Zepto);if(ei&&!ei.ua){var es=new er;ei.ua=es.getResult(),ei.ua.get=function(){return es.getUA()},ei.ua.set=function(e){es.setUA(e);var t=es.getResult();for(var n in t)ei.ua[n]=t[n]}}}("object"==typeof window?window:this)},620:(e,t,n)=>{"use strict";n.d(t,{A2:()=>d,E$:()=>h,HZ:()=>f,Mb:()=>s,Mz:()=>_,OR:()=>l,UX:()=>p,WQ:()=>v,aJ:()=>b,aO:()=>m,d6:()=>o,kS:()=>c,n4:()=>a,nW:()=>u,oJ:()=>r,qV:()=>g,wL:()=>i});let r="error.type",i="exception.message",s="exception.stacktrace",o="exception.type",a="http.request.method",u="http.request.method_original",l="http.response.status_code",c="server.address",d="server.port",p="service.name",f="service.version",h="telemetry.sdk.language",g="webjs",m="telemetry.sdk.name",b="telemetry.sdk.version",v="url.full",_="user_agent.original"},681:(e,t,n)=>{"use strict";let r,i,s,o,a,u,l;n.r(t),n.d(t,{default:()=>oe});var c,d,p,f,h,g,m,b,v,_,y,w,S=n(5640);let E="undefined"!=typeof globalThis?globalThis:void 0!==n.g?n.g:"undefined"!=typeof self?self:void 0,T="_faroInternal",O={};class A{constructor(){this.subscribers=[]}subscribe(e){return this.subscribers.push(e),{unsubscribe:()=>this.unsubscribe(e)}}unsubscribe(e){this.subscribers=this.subscribers.filter(t=>t!==e)}notify(e){this.subscribers.forEach(t=>t(e))}first(){let e=new A,t=t=>{e.notify(t),n.unsubscribe()},n=this.subscribe(t),r=e.unsubscribe.bind(e);return this.withUnsubscribeOverride(e,r,t)}takeWhile(e){let t=new A,n=r=>{e(r)?t.notify(r):t.unsubscribe(n)};this.subscribe(n);let r=t.unsubscribe.bind(t);return this.withUnsubscribeOverride(t,r,n)}filter(e){let t=new A,n=n=>{e(n)&&t.notify(n)};this.subscribe(n);let r=t.unsubscribe.bind(t);return this.withUnsubscribeOverride(t,r,n)}merge(...e){let t=new A,n=[];e.forEach(e=>{let r=e.subscribe(e=>{t.notify(e)});n.push(r)});let r=t.unsubscribeAll.bind(t);return t.unsubscribe=()=>{n.forEach(e=>e.unsubscribe()),r()},t}withUnsubscribeOverride(e,t,n){return e.unsubscribe=e=>{t(e),this.unsubscribe(n)},e}unsubscribeAll(){this.subscribers=[]}}!function(e){e.EXCEPTION="exception",e.LOG="log",e.MEASUREMENT="measurement",e.TRACE="trace",e.EVENT="event"}(tv||(tv={}));let C={[tv.EXCEPTION]:"exceptions",[tv.LOG]:"logs",[tv.MEASUREMENT]:"measurements",[tv.TRACE]:"traces",[tv.EVENT]:"events"};function x(e,t){return typeof e===t}function L(e,t){return Object.prototype.toString.call(e)===`[object ${t}]`}function R(e,t){try{return e instanceof t}catch(e){return!1}}let I=e=>x(e,"null"),P=e=>x(e,"string"),N=e=>!I(e)&&x(e,"object"),k=e=>x(e,"function"),D=e=>L(e,"Array"),j="undefined"!=typeof Event,M="undefined"!=typeof Error,U=e=>M&&R(e,Error);function B(e){return null==e||(D(e)||P(e)?0===e.length:!!N(e)&&0===Object.keys(e).length)}function $(e={}){return JSON.stringify(null!=e?e:{},function(){let e=new WeakSet;return function(t,n){if(N(n)&&null!==n){if(e.has(n))return null;e.add(n)}return n}}())}function z(e={}){let t={};for(let[n,r]of Object.entries(e))t[n]=N(r)&&null!==r?$(r):String(r);return t}function F(){return Date.now()}function V(){return new Date().toISOString()}function H(e){return new Date(e).toISOString()}function q(e,t){if(e===t)return!0;if(x(e,"number")&&isNaN(e))return x(t,"number")&&isNaN(t);let n=D(e),r=D(t);if(n!==r)return!1;if(n&&r){let n=e.length;if(n!==t.length)return!1;for(let r=n;0!=r--;)if(!q(e[r],t[r]))return!1;return!0}let i=N(e),s=N(t);if(i!==s)return!1;if(e&&t&&i&&s){let n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let e of n)if(!r.includes(e))return!1;for(let r of n)if(!q(e[r],t[r]))return!1;return!0}return!1}let G="user-action-start",K="user-action-end",W="user-action-cancel",X="user-action-halt",J="Error",Q=e=>e.map(e=>N(e)?$(e):String(e)).join(" ");!function(e){e.TRACE="trace",e.DEBUG="debug",e.INFO="info",e.LOG="log",e.WARN="warn",e.ERROR="error"}(t_||(t_={}));let Y=t_.LOG,Z=[t_.TRACE,t_.DEBUG,t_.INFO,t_.LOG,t_.WARN,t_.ERROR],ee=e=>e.map(e=>{try{return String(e)}catch(e){return""}}).join(" ");class et{constructor(){this.buffer=[]}addItem(e){this.buffer.push(e)}flushBuffer(e){if(k(e))for(let t of this.buffer)e(t);this.buffer.length=0}size(){return this.buffer.length}}let en=new A;function er(){}!function(e){e[e.OFF=0]="OFF",e[e.ERROR=1]="ERROR",e[e.WARN=2]="WARN",e[e.INFO=3]="INFO",e[e.VERBOSE=4]="VERBOSE"}(ty||(ty={}));let ei={debug:er,error:er,info:er,prefix:"Faro",warn:er},es=ty.ERROR,eo=Object.assign({},console);function ea(e=eo,t=es){return t>ty.OFF&&(ei.error=t>=ty.ERROR?function(...t){e.error(`${ei.prefix}
`,...t)}:er,ei.warn=t>=ty.WARN?function(...t){e.warn(`${ei.prefix}
`,...t)}:er,ei.info=t>=ty.INFO?function(...t){e.info(`${ei.prefix}
`,...t)}:er,ei.debug=t>=ty.VERBOSE?function(...t){e.debug(`${ei.prefix}
`,...t)}:er),ei}let eu="1.19.0";class el{constructor(e,t){var n,r;this.signalBuffer=[],this.itemLimit=null!=(n=null==t?void 0:t.itemLimit)?n:50,this.sendTimeout=null!=(r=null==t?void 0:t.sendTimeout)?r:250,this.paused=(null==t?void 0:t.paused)||!1,this.sendFn=e,this.flushInterval=-1,this.paused||this.start(),document.addEventListener("visibilitychange",()=>{"hidden"===document.visibilityState&&this.flush()})}addItem(e){!this.paused&&(this.signalBuffer.push(e),this.signalBuffer.length>=this.itemLimit&&this.flush())}start(){this.paused=!1,this.sendTimeout>0&&(this.flushInterval=window.setInterval(()=>this.flush(),this.sendTimeout))}pause(){this.paused=!0,clearInterval(this.flushInterval)}groupItems(e){let t=new Map;return e.forEach(e=>{let n=JSON.stringify(e.meta),r=t.get(n);r=void 0===r?[e]:[...r,e],t.set(n,r)}),Array.from(t.values())}flush(){this.paused||0===this.signalBuffer.length||(this.groupItems(this.signalBuffer).forEach(this.sendFn),this.signalBuffer=[])}}let ec=eo,ed={enabled:!0,sendTimeout:250,itemLimit:50},ep=/^\s*at (?:(.*?) ?\((?:address at )?)?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,ef=/\((\S*)(?::(\d+))(?::(\d+))\)/,eh="address at ",eg=eh.length,em=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|safari-extension|safari-web-extension|capacitor)?:\/.*?|\[native code]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,eb=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,ev="safari-extension",e_="safari-web-extension",ey=/Minified React error #\d+;/i;function ew(e,t,n,r){let i={filename:e||document.location.href,function:t||"?"};return void 0!==n&&(i.lineno=n),void 0!==r&&(i.colno=r),i}function eS(e,t){let n=null==e?void 0:e.includes(ev),r=!n&&(null==e?void 0:e.includes(e_));return n||r?[(null==e?void 0:e.includes("@"))?e.split("@")[0]:e,n?`${ev}:${t}`:`${e_}:${t}`]:[e,t]}function eE(e){let t=[];e.stacktrace?t=e.stacktrace.split("\n").filter((e,t)=>t%2==0):e.stack&&(t=e.stack.split("\n"));let n=t.reduce((t,n,r)=>{let i,s,o,a,u;if(i=ep.exec(n)){if(s=i[1],o=i[2],a=i[3],u=i[4],null==o?void 0:o.startsWith("eval")){let e=ef.exec(o);e&&(o=e[1],a=e[2],u=e[3])}o=(null==o?void 0:o.startsWith(eh))?o.substring(eg):o,[s,o]=eS(s,o)}else if(i=em.exec(n)){if(s=i[1],o=i[3],a=i[4],u=i[5],o&&o.includes(" > eval")){let e=eb.exec(o);e&&(s=s||"eval",o=e[1],a=e[2])}else{let t;0===r&&!u&&(x(t=e.columnNumber,"number")&&!isNaN(t)||x(t,"bigint"))&&(u=String(e.columnNumber+1))}[s,o]=eS(s,o)}return(o||s)&&t.push(ew(o,s,a?Number(a):void 0,u?Number(u):void 0)),t},[]);return ey.test(e.message)?n.slice(1):n}function eT(e){return{frames:eE(e)}}let eO="com.grafana.faro.session",eA={enabled:!0,persistent:!1,maxSessionPersistenceTime:9e5},eC="http-request-start",ex="http-request-end";var eL=n(582);let eR="unknown",eI=()=>{let e=new eL.UAParser,{name:t,version:n}=e.getBrowser(),{name:r,version:i}=e.getOS(),s=e.getUA(),o=navigator.language,a=navigator.userAgent.includes("Mobi"),u=function(){if(t&&n&&"userAgentData"in navigator&&navigator.userAgentData)return navigator.userAgentData.brands}();return{browser:{name:null!=t?t:eR,version:null!=n?n:eR,os:`${null!=r?r:eR} ${null!=i?i:eR}`,userAgent:null!=s?s:eR,language:null!=o?o:eR,mobile:a,brands:null!=u?u:eR,viewportWidth:`${window.innerWidth}`,viewportHeight:`${window.innerHeight}`}}},eP=()=>{let e=window.k6;return{k6:Object.assign({isK6Browser:!0},(null==e?void 0:e.testRunId)&&{testRunId:null==e?void 0:e.testRunId})}};class eN{constructor(){this.unpatchedConsole=eo,this.internalLogger=ei,this.config={},this.metas={}}logDebug(...e){this.internalLogger.debug(`${this.name}
`,...e)}logInfo(...e){this.internalLogger.info(`${this.name}
`,...e)}logWarn(...e){this.internalLogger.warn(`${this.name}
`,...e)}logError(...e){this.internalLogger.error(`${this.name}
`,...e)}}class ek extends eN{isBatched(){return!1}getIgnoreUrls(){return[]}}function eD(e,t){let n,r=!1,i=()=>{if(null==n){r=!1;return}e(...n),n=null,setTimeout(i,t)};return(...s)=>{if(r){n=s;return}e(...s),r=!0,setTimeout(i,t)}}let ej={session:"sessionStorage",local:"localStorage"};function eM(e){var t;try{let t;t=window[e];let n="__faro_storage_test__";return t.setItem(n,n),t.removeItem(n),!0}catch(n){return null==(t=O.internalLogger)||t.info(`Web storage of type ${e} is not available. Reason: ${n}`),!1}}function eU(e,t){return eV(t)?window[t].getItem(e):null}function eB(e,t,n){if(eV(n))try{window[n].setItem(e,t)}catch(e){}}function e$(e,t){eV(t)&&window[t].removeItem(e)}let ez=eM(ej.local),eF=eM(ej.session);function eV(e){return e===ej.local?ez:e===ej.session&&eF}let eH="abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ0123456789";function eq(e=10){return Array.from(Array(e)).map(()=>eH[Math.floor(Math.random()*eH.length)]).join("")}let eG="session_start",eK="session_resume";function eW(){var e,t,n;let r=O.config.sessionTracking,i=null!=(n=null!=(t=null==(e=null==r?void 0:r.sampler)?void 0:e.call(r,{metas:O.metas.value}))?t:null==r?void 0:r.samplingRate)?n:1;return"number"!=typeof i&&(i=0),Math.random()<i}function eX({sessionId:e,started:t,lastActivity:n,isSampled:r=!0}={}){var i,s;let o=F(),a=null==(s=null==(i=O.config)?void 0:i.sessionTracking)?void 0:s.generateSessionId;return null==e&&(e="function"==typeof a?a():eq()),{sessionId:e,lastActivity:null!=n?n:o,started:null!=t?t:o,isSampled:r}}function eJ(e){if(null==e)return!1;let t=F();return t-e.started<144e5&&t-e.lastActivity<9e5}function eQ({fetchUserSession:e,storeUserSession:t}){return function({forceSessionExtend:n}={forceSessionExtend:!1}){var r,i,s;if(!e||!t)return;let o=O.config.sessionTracking,a=null==o?void 0:o.persistent;if(a&&!ez||!a&&!eF)return;let u=e();if(!1===n&&eJ(u))t(Object.assign(Object.assign({},u),{lastActivity:F()}));else{let e=eY(eX({isSampled:eW()}),u);t(e),null==(r=O.api)||r.setSession(e.sessionMeta),null==(i=null==o?void 0:o.onSessionChange)||i.call(o,null!=(s=null==u?void 0:u.sessionMeta)?s:null,e.sessionMeta)}}}function eY(e,t){var n,r,i,s,o,a,u;let l=Object.assign(Object.assign({},e),{sessionMeta:{id:e.sessionId,attributes:Object.assign(Object.assign(Object.assign({},null==(r=null==(n=O.config.sessionTracking)?void 0:n.session)?void 0:r.attributes),null!=(s=null==(i=O.metas.value.session)?void 0:i.attributes)?s:{}),{isSampled:e.isSampled.toString()})}}),c=null!=(a=null==(o=O.metas.value.session)?void 0:o.overrides)?a:null==(u=null==t?void 0:t.sessionMeta)?void 0:u.overrides;B(c)||(l.sessionMeta.overrides=c);let d=null==t?void 0:t.sessionId;return null!=d&&(l.sessionMeta.attributes.previousSession=d),l}function eZ({fetchUserSession:e,storeUserSession:t}){return function(n){let r=n.session,i=e(),s=null==r?void 0:r.id,o=null==r?void 0:r.attributes,a=null==r?void 0:r.overrides,u=null==i?void 0:i.sessionMeta,l=null==u?void 0:u.overrides,c=!!a&&!q(a,l),d=!!o&&!q(o,null==u?void 0:u.attributes);if(r&&s!==(null==i?void 0:i.sessionId)||d||c){let e=eY(eX({sessionId:s,isSampled:eW()}),i);t(e),function(e,t={},n={}){var r,i,s;if(!e)return;let o=t.serviceName,a=null!=(s=null!=(r=n.serviceName)?r:null==(i=O.metas.value.app)?void 0:i.name)?s:"";o&&o!==a&&O.api.pushEvent("service_name_override",{serviceName:o,previousServiceName:a})}(c,a,l),O.api.setSession(e.sessionMeta)}}}class e0{constructor(){this.updateSession=eD(()=>this.updateUserSession(),1e3),this.updateUserSession=eQ({fetchUserSession:e0.fetchUserSession,storeUserSession:e0.storeUserSession}),this.init()}static removeUserSession(){e$(eO,e0.storageTypeLocal)}static storeUserSession(e){eB(eO,$(e),e0.storageTypeLocal)}static fetchUserSession(){let e=eU(eO,e0.storageTypeLocal);return e?JSON.parse(e):null}init(){document.addEventListener("visibilitychange",()=>{"visible"===document.visibilityState&&this.updateSession()}),O.metas.addListener(eZ({fetchUserSession:e0.fetchUserSession,storeUserSession:e0.storeUserSession}))}}e0.storageTypeLocal=ej.local;class e1{constructor(){this.updateSession=eD(()=>this.updateUserSession(),1e3),this.updateUserSession=eQ({fetchUserSession:e1.fetchUserSession,storeUserSession:e1.storeUserSession}),this.init()}static removeUserSession(){e$(eO,e1.storageTypeSession)}static storeUserSession(e){eB(eO,$(e),e1.storageTypeSession)}static fetchUserSession(){let e=eU(eO,e1.storageTypeSession);return e?JSON.parse(e):null}init(){document.addEventListener("visibilitychange",()=>{"visible"===document.visibilityState&&this.updateSession()}),O.metas.addListener(eZ({fetchUserSession:e1.fetchUserSession,storeUserSession:e1.storeUserSession}))}}function e2(e){return(null==e?void 0:e.persistent)?e0:e1}e1.storageTypeSession=ej.session;var e3=function(e,t,n,r){return new(n||(n=Promise))(function(i,s){function o(e){try{u(r.next(e))}catch(e){s(e)}}function a(e){try{u(r.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(o,a)}u((r=r.apply(e,t||[])).next())})},e6=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class e5 extends ek{constructor(e){var t,n,r,i;super(),this.options=e,this.name="@grafana/faro-web-sdk:transport-fetch",this.version=eu,this.disabledUntil=new Date,this.rateLimitBackoffMs=null!=(t=e.defaultRateLimitBackoffMs)?t:5e3,this.getNow=null!=(n=e.getNow)?n:()=>Date.now(),this.promiseBuffer=function(e){let{size:t,concurrency:n}=e,r=[],i=0,s=()=>{if(i<n&&r.length){let{producer:e,resolve:t,reject:n}=r.shift();i++,e().then(e=>{i--,s(),t(e)},e=>{i--,s(),n(e)})}};return{add:e=>{if(r.length+i>=t)throw Error("Task buffer full");return new Promise((t,n)=>{r.push({producer:e,resolve:t,reject:n}),s()})}}}({size:null!=(r=e.bufferSize)?r:30,concurrency:null!=(i=e.concurrency)?i:5})}send(e){return e3(this,void 0,void 0,function*(){try{if(this.disabledUntil>new Date(this.getNow()))return this.logWarn(`Dropping transport item due to too many requests. Backoff until ${this.disabledUntil}`),Promise.resolve();yield this.promiseBuffer.add(()=>{let t,n,r=JSON.stringify((n={meta:{}},void 0!==e[0]&&(n.meta=e[0].meta),e.forEach(e=>{switch(e.type){case tv.LOG:case tv.EVENT:case tv.EXCEPTION:case tv.MEASUREMENT:let t=C[e.type],r=n[t];n=Object.assign(Object.assign({},n),{[t]:void 0===r?[e.payload]:[...r,e.payload]});break;case tv.TRACE:n=Object.assign(Object.assign({},n),{traces:function(e,t){var n,r;if(void 0===t)return e;if(void 0===e)return{resourceSpans:t};let i=null==(n=e.resourceSpans)?void 0:n[0];if(void 0===i)return e;let s=(null==i?void 0:i.scopeSpans)||[],o=(null==(r=null==t?void 0:t[0])?void 0:r.scopeSpans)||[];return Object.assign(Object.assign({},e),{resourceSpans:[Object.assign(Object.assign({},i),{scopeSpans:[...s,...o]})]})}(n.traces,e.payload.resourceSpans)})}}),n)),{url:i,requestOptions:s,apiKey:o}=this.options,a=null!=s?s:{},{headers:u}=a,l=e6(a,["headers"]),c=this.metas.value.session;return null!=c&&(t=c.id),fetch(i,Object.assign({method:"POST",headers:Object.assign(Object.assign(Object.assign({"Content-Type":"application/json"},null!=u?u:{}),o?{"x-api-key":o}:{}),t?{"x-faro-session-id":t}:{}),body:r,keepalive:r.length<=6e4},null!=l?l:{})).then(e=>e3(this,void 0,void 0,function*(){return 202===e.status&&"invalid"===e.headers.get("X-Faro-Session-Status")&&this.extendFaroSession(this.config,this.logDebug),429===e.status&&(this.disabledUntil=this.getRetryAfterDate(e),this.logWarn(`Too many requests, backing off until ${this.disabledUntil}`)),e.text().catch(er),e})).catch(e=>{this.logError("Failed sending payload to the receiver\n",JSON.parse(r),e)})})}catch(e){this.logError(e)}})}getIgnoreUrls(){var e;return[this.options.url].concat(null!=(e=this.config.ignoreUrls)?e:[])}isBatched(){return!0}getRetryAfterDate(e){let t=this.getNow(),n=e.headers.get("Retry-After");if(n){let e=Number(n);if(!isNaN(e))return new Date(1e3*e+t);let r=Date.parse(n);if(!isNaN(r))return new Date(r)}return new Date(t+this.rateLimitBackoffMs)}extendFaroSession(e,t){let n="Session expired",r=e.sessionTracking;if(null==r?void 0:r.enabled){let{fetchUserSession:e,storeUserSession:i}=e2(r);eQ({fetchUserSession:e,storeUserSession:i})({forceSessionExtend:!0}),t(`${n} created new session.`)}else t(`${n}.`)}}class e9 extends eN{constructor(){super(...arguments),this.api={},this.transports={}}}function e4(e=""){return O.transports.transports.flatMap(e=>e.getIgnoreUrls()).some(t=>e&&null!=e.match(t))}function e8(e){return P(e)?e:e instanceof URL?e.href:!B(e)&&k(null==e?void 0:e.toString)?e.toString():void 0}let e7="fetch",te="com.grafana.faro.lastNavigationId",tt="resource",tn=/^00-[a-f0-9]{32}-[a-f0-9]{16}-[0-9]{1,2}$/;function tr(e=[]){for(let t of e)if("traceparent"===t.name){if(!tn.test(t.description))continue;let[,e,n]=t.description.split("-");if(null!=e&&null!=n)return{traceId:e,spanId:n};break}}function ti(e){let t,{connectEnd:n,connectStart:r,decodedBodySize:i,domainLookupEnd:s,domainLookupStart:o,duration:a,encodedBodySize:u,fetchStart:l,initiatorType:c,name:d,nextHopProtocol:p,redirectEnd:f,redirectStart:h,renderBlockingStatus:g,requestStart:m,responseEnd:b,responseStart:v,responseStatus:_,secureConnectionStart:y,transferSize:w,workerStart:S}=e;return{name:d,duration:ts(a),tcpHandshakeTime:ts(n-r),dnsLookupTime:ts(s-o),tlsNegotiationTime:ts(n-y),responseStatus:ts(_),redirectTime:ts(f-h),requestTime:ts(v-m),responseTime:ts(b-v),fetchTime:ts(b-l),serviceWorkerTime:ts(l-S),decodedBodySize:ts(i),encodedBodySize:ts(u),cacheHitStatus:(t="fullLoad",0===w?i>0&&(t="cache"):null!=_?304===_&&(t="conditionalFetch"):u>0&&w<u&&(t="conditionalFetch"),t),renderBlockingStatus:ts(g),protocol:p,initiatorType:c,visibilityState:document.visibilityState,ttfb:ts(v-m),transferSize:ts(w)}}function ts(e){return null==e?eR:"number"==typeof e?Math.round(e>0?e:0).toString():e.toString()}let to={initiatorType:["xmlhttprequest","fetch"]},ta=new A;class tu extends e9{constructor(){super(...arguments),this.name="@grafana/faro-web-sdk:instrumentation-performance",this.version=eu}initialize(){if(!("PerformanceObserver"in window))return void this.logDebug("performance observer not supported. Disable performance instrumentation.");var e=()=>{var e,t,n,r;return e=this,t=void 0,n=void 0,r=function*(){let e=this.api.pushEvent,{faroNavigationId:t}=yield function(e){let t,n=new Promise(e=>{t=e});return new PerformanceObserver(n=>{var r;let[i]=n.getEntries();if(null==i||e4(i.name))return;let s=i.toJSON(),o=tr(null==s?void 0:s.serverTiming),a=null!=(r=eU(te,ej.session))?r:eR,u=Object.assign(Object.assign({},function(e){var t;let{activationStart:n,domComplete:r,domContentLoadedEventEnd:i,domContentLoadedEventStart:s,domInteractive:o,fetchStart:a,loadEventEnd:u,loadEventStart:l,responseStart:c,type:d}=e,p=(null==(t=performance.timing)?void 0:t.domLoading)!=null?performance.timing.domLoading-performance.timeOrigin:null;return Object.assign(Object.assign({},ti(e)),{pageLoadTime:ts(r-a),documentParsingTime:ts(p?o-p:null),domProcessingTime:ts(r-o),domContentLoadHandlerTime:ts(i-s),onLoadTime:ts(u-l),ttfb:ts(Math.max(c-(null!=n?n:0),0)),type:d})}(s)),{faroNavigationId:eq(),faroPreviousNavigationId:a});eB(te,u.faroNavigationId,ej.session),e("faro.performance.navigation",u,void 0,{spanContext:o,timestampOverwriteMs:performance.timeOrigin+s.startTime}),t(u)}).observe({type:"navigation",buffered:!0}),n}(e);null!=t&&function(e,t,n){let r=O.config.trackResources;new PerformanceObserver(i=>{for(let s of i.getEntries()){if(e4(s.name))return;let i=s.toJSON(),o=tr(null==i?void 0:i.serverTiming);if(null==r&&function(e,t={}){for(let[n,r]of Object.entries(t)){let t=e[n];if(null==t)return!1;if(D(r))return r.includes(t);return t===r}return!0}(i,to)||r){let r=Object.assign(Object.assign({},ti(i)),{faroNavigationId:e,faroResourceId:eq()});O.config.trackUserActionsPreview&&(null==n||n.notify({type:tt})),t("faro.performance.resource",r,void 0,{spanContext:o,timestampOverwriteMs:performance.timeOrigin+i.startTime})}}}).observe({type:tt,buffered:!0})}(t,e,ta)},new(n||(n=Promise))(function(i,s){function o(e){try{u(r.next(e))}catch(e){s(e)}}function a(e){try{u(r.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(o,a)}u((r=r.apply(e,t||[])).next())})};if("complete"===document.readyState)e();else{let t=()=>{"complete"===document.readyState&&(e(),document.removeEventListener("readystatechange",t))};document.addEventListener("readystatechange",t)}}}function tl(e){let{api:t,userActionName:n,startTime:r,endTime:i,actionId:s,event:o,attributes:a}=e,u=i-r,l=o.type;en.notify({type:K,name:n,id:s,startTime:r,endTime:i,duration:u,eventType:l}),t.pushEvent(n,Object.assign({userActionStartTime:r.toString(),userActionEndTime:i.toString(),userActionDuration:u.toString(),userActionTrigger:l},z(a)),void 0,{timestampOverwriteMs:r,customPayloadTransformer:e=>(e.action={id:s,name:n},e)})}function tc(e,t,n){return e&&clearTimeout(e),e=setTimeout(()=>{t()},n)}function td(e){null==e||e.unsubscribe()}class tp extends e9{constructor(){super(...arguments),this.name="@grafana/faro-web-sdk:instrumentation-user-action",this.version=eu}initialize(){o=function(e){let t,{api:n,config:r}=e,i=function(){let e=new A;function t(t){e.notify({type:eC,request:t})}function n(t){e.notify({type:ex,request:t})}return function({onRequestEnd:e,onRequestStart:t}){let n=window.fetch;window.fetch=function(){var r,i;let s=null!=(r=e8(arguments[0]))?r:"",o=e4(s),a=(null!=(i=arguments[1])?i:{}).method,u=eq();return o||t({url:s,method:a,requestId:u,apiType:e7}),n.apply(this,arguments).then(t=>(o||e({url:s,method:a,requestId:u,apiType:e7}),t)).catch(t=>{throw o||e({url:s,method:a,requestId:u,apiType:e7}),t})}}({onRequestStart:t,onRequestEnd:n}),function({onRequestStart:e,onRequestEnd:t}){let n=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=function(){let r=arguments[1],i=e4(r),s=arguments[0],o=eq();this.addEventListener("loadstart",function(){i||e({url:r,method:s,requestId:o,apiType:"xhr"})}),this.addEventListener("load",function(){i||t({url:r,method:s,requestId:o,apiType:"xhr"})}),this.addEventListener("error",function(){i||t({url:r,method:s,requestId:o,apiType:"xhr"})}),this.addEventListener("abort",function(){i||t({url:r,method:s,requestId:o,apiType:"xhr"})}),n.apply(this,arguments)}}({onRequestStart:t,onRequestEnd:n}),e}(),s=function(){let e=new A;return new MutationObserver((t,n)=>{e.notify({type:"dom-mutation"})}).observe(document,{attributes:!0,childList:!0,subtree:!0,characterData:!0}),e}(),o=function(){let e=new A;return ta.subscribe(t=>{t.type===tt&&e.notify({type:"resource-entry"})}),e}(),a=!1;return function(e){var u,l;let c,d,p,f="faroApiCall"===(l=e).type&&"string"==typeof l.name;if(c=f?e.name:function(e,t){let n=function(e){let t=e.split("data-")[1],n=null==t?void 0:t.replace(/-(.)/g,(e,t)=>t.toUpperCase());return null==n?void 0:n.replace(/-/g,"")}(t),r=e.dataset;for(let e in r)if(e===n)return r[e]}(e.target,null!=(u=r.trackUserActionsDataAttributeName)?u:"faroUserActionName"),a||null==c)return;a=!0;let h=F(),g=eq();en.notify({type:G,name:c,startTime:h,parentId:g}),t=tc(t,()=>{var e,t;d=F(),a=!1,e=c,t=g,en.notify({type:W,name:e,parentId:t})},100);let m=new Map,b=!1,v=new A().merge(i,s,o).takeWhile(()=>a).filter(e=>!b||!!(e.type===ex&&m.has(e.request.requestId))).subscribe(r=>{r.type===eC&&m.set(r.request.requestId,r.request),r.type===ex&&m.delete(r.request.requestId),t=tc(t,()=>{let t=Object.assign({api:n,userActionName:c,startTime:h,endTime:d=F(),actionId:g,event:e},f?{attributes:e.attributes}:{}),r=m.size>0;b&&!r&&(clearTimeout(p),b=!1),r?(b=!0,en.notify({type:X,name:c,parentId:g,reason:"pending-requests",haltTime:F()}),p=tc(void 0,()=>{td(v),tl(t),a=!1,b=!1},1e4)):(td(v),tl(t),a=!1,b=!1)},100)})}}(O),window.addEventListener("pointerdown",o),window.addEventListener("keydown",o)}}let tf=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;function th(e){let t,n,r,i,s=[];if(L(e,"ErrorEvent")&&e.error)t=e.error.message,n=e.error.name,s=eE(e.error);else if((r=L(e,"DOMError"))||L(e,"DOMException")){let{name:i,message:s}=e;n=null!=i?i:r?"DOMError":"DOMException",t=s?`${n}: ${s}`:n}else if(U(e))t=e.message,s=eE(e);else(N(e)||(i=j&&R(e,Event)))&&(n=i?e.constructor.name:void 0,t=`Non-Error exception captured with keys: ${Object.keys(e)}`);return[t,n,s]}function tg(e){let t,n,[r,i,s,o,a]=e,u=[],l=P(r),c=ew(i,"?",s,o);return a||!l?([t,n,u]=th(null!=a?a:r),0===u.length&&(u=[c])):l&&([t,n]=function(e){var t,n;let r=e.match(tf),i=null!=(t=null==r?void 0:r[1])?t:J;return[null!=(n=null==r?void 0:r[2])?n:e,i]}(r),u=[c]),{value:t,type:n,stackFrames:u}}function tm(e,t){return U(e[0])?tg(e):{value:t(e)}}class tb extends e9{constructor(){super(...arguments),this.name="@grafana/faro-web-sdk:instrumentation-errors",this.version=eu}initialize(){this.logDebug("Initializing");var e,t=this.api;let n=window.onerror;window.onerror=(...e)=>{try{let{value:n,type:r,stackFrames:i}=tg(e),s=e[4];if(n){let e={type:r,stackFrames:i};null!=s&&(e.originalError=s),t.pushError(Error(n),e)}}finally{null==n||n.apply(window,e)}},e=this.api,window.addEventListener("unhandledrejection",t=>{var n,r;let i,s,o,a=t;a.reason?a=t.reason:(null==(n=t.detail)?void 0:n.reason)&&(a=null==(r=t.detail)?void 0:r.reason);let u=[];N(o=a)||k(o)?[i,s,u]=th(a):(i=`Non-Error promise rejection captured with value: ${String(a)}`,s="UnhandledRejection"),i&&e.pushError(Error(i),{type:s,stackFrames:u})})}}var tv,t_,ty,tw,tS,tE,tT,tO,tA=-1,tC=function(e){addEventListener("pageshow",function(t){t.persisted&&(tA=t.timeStamp,e(t))},!0)},tx=function(){var e=self.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0];if(e&&e.responseStart>0&&e.responseStart<performance.now())return e},tL=function(){var e=tx();return e&&e.activationStart||0},tR=function(e,t){var n=tx(),r="navigate";return tA>=0?r="back-forward-cache":n&&(document.prerendering||tL()>0?r="prerender":document.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:"v4-".concat(Date.now(),"-").concat(Math.floor(0x82f79cd8fff*Math.random())+1e12),navigationType:r}},tI=function(e,t,n){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var r=new PerformanceObserver(function(e){Promise.resolve().then(function(){t(e.getEntries())})});return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch(e){}},tP=function(e,t,n,r){var i,s;return function(o){var a;t.value>=0&&(o||r)&&((s=t.value-(i||0))||void 0===i)&&(i=t.value,t.delta=s,a=t.value,t.rating=a>n[1]?"poor":a>n[0]?"needs-improvement":"good",e(t))}},tN=function(e){requestAnimationFrame(function(){return requestAnimationFrame(function(){return e()})})},tk=function(e){document.addEventListener("visibilitychange",function(){"hidden"===document.visibilityState&&e()})},tD=function(e){var t=!1;return function(){t||(e(),t=!0)}},tj=-1,tM=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},tU=function(e){"hidden"===document.visibilityState&&tj>-1&&(tj="visibilitychange"===e.type?e.timeStamp:0,t$())},tB=function(){addEventListener("visibilitychange",tU,!0),addEventListener("prerenderingchange",tU,!0)},t$=function(){removeEventListener("visibilitychange",tU,!0),removeEventListener("prerenderingchange",tU,!0)},tz=function(){return tj<0&&(tj=tM(),tB(),tC(function(){setTimeout(function(){tj=tM(),tB()},0)})),{get firstHiddenTime(){return tj}}},tF=function(e){document.prerendering?addEventListener("prerenderingchange",function(){return e()},!0):e()},tV=[1800,3e3],tH=function(e,t){t=t||{},tF(function(){var n,r=tz(),i=tR("FCP"),s=tI("paint",function(e){e.forEach(function(e){"first-contentful-paint"===e.name&&(s.disconnect(),e.startTime<r.firstHiddenTime&&(i.value=Math.max(e.startTime-tL(),0),i.entries.push(e),n(!0)))})});s&&(n=tP(e,i,tV,t.reportAllChanges),tC(function(r){n=tP(e,i=tR("FCP"),tV,t.reportAllChanges),tN(function(){i.value=performance.now()-r.timeStamp,n(!0)})}))})},tq=[.1,.25],tG=0,tK=1/0,tW=0,tX=function(e){e.forEach(function(e){e.interactionId&&(tK=Math.min(tK,e.interactionId),tG=(tW=Math.max(tW,e.interactionId))?(tW-tK)/7+1:0)})},tJ=function(){return tw?tG:performance.interactionCount||0},tQ=function(){"interactionCount"in performance||tw||(tw=tI("event",tX,{type:"event",buffered:!0,durationThreshold:0}))},tY=[],tZ=new Map,t0=0,t1=function(){var e=Math.min(tY.length-1,Math.floor((tJ()-t0)/50));return tY[e]},t2=[],t3=function(e){if(t2.forEach(function(t){return t(e)}),e.interactionId||"first-input"===e.entryType){var t=tY[tY.length-1],n=tZ.get(e.interactionId);if(n||tY.length<10||e.duration>t.latency){if(n)e.duration>n.latency?(n.entries=[e],n.latency=e.duration):e.duration===n.latency&&e.startTime===n.entries[0].startTime&&n.entries.push(e);else{var r={id:e.interactionId,latency:e.duration,entries:[e]};tZ.set(r.id,r),tY.push(r)}tY.sort(function(e,t){return t.latency-e.latency}),tY.length>10&&tY.splice(10).forEach(function(e){return tZ.delete(e.id)})}}},t6=function(e){var t=self.requestIdleCallback||self.setTimeout,n=-1;return e=tD(e),"hidden"===document.visibilityState?e():(n=t(e),tk(e)),n},t5=[200,500],t9=[2500,4e3],t4={},t8=[800,1800],t7=function e(t){document.prerendering?tF(function(){return e(t)}):"complete"!==document.readyState?addEventListener("load",function(){return e(t)},!0):setTimeout(t,0)},ne={passive:!0,capture:!0},nt=new Date,nn=function(e,t){tS||(tS=t,tE=e,tT=new Date,ns(removeEventListener),nr())},nr=function(){if(tE>=0&&tE<tT-nt){var e={entryType:"first-input",name:tS.type,target:tS.target,cancelable:tS.cancelable,startTime:tS.timeStamp,processingStart:tS.timeStamp+tE};tO.forEach(function(t){t(e)}),tO=[]}},ni=function(e){if(e.cancelable){var t,n,r,i=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?(t=function(){nn(i,e),r()},n=function(){r()},r=function(){removeEventListener("pointerup",t,ne),removeEventListener("pointercancel",n,ne)},addEventListener("pointerup",t,ne),addEventListener("pointercancel",n,ne)):nn(i,e)}},ns=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach(function(t){return e(t,ni,ne)})},no=[100,300];class na{constructor(e,t){this.pushMeasurement=e,this.webVitalConfig=t}initialize(){Object.entries(na.mapping).forEach(([e,t])=>{var n;t(t=>{this.pushMeasurement({type:"web-vitals",values:{[e]:t.value}})},{reportAllChanges:null==(n=this.webVitalConfig)?void 0:n.reportAllChanges})})}}na.mapping={cls:function(e,t){t=t||{},tH(tD(function(){var n,r=tR("CLS",0),i=0,s=[],o=function(e){e.forEach(function(e){if(!e.hadRecentInput){var t=s[0],n=s[s.length-1];i&&e.startTime-n.startTime<1e3&&e.startTime-t.startTime<5e3?(i+=e.value,s.push(e)):(i=e.value,s=[e])}}),i>r.value&&(r.value=i,r.entries=s,n())},a=tI("layout-shift",o);a&&(n=tP(e,r,tq,t.reportAllChanges),tk(function(){o(a.takeRecords()),n(!0)}),tC(function(){i=0,n=tP(e,r=tR("CLS",0),tq,t.reportAllChanges),tN(function(){return n()})}),setTimeout(n,0))}))},fcp:tH,fid:function(e,t){t=t||{},tF(function(){var n,r=tz(),i=tR("FID"),s=function(e){e.startTime<r.firstHiddenTime&&(i.value=e.processingStart-e.startTime,i.entries.push(e),n(!0))},o=function(e){e.forEach(s)},a=tI("first-input",o);n=tP(e,i,no,t.reportAllChanges),a&&(tk(tD(function(){o(a.takeRecords()),a.disconnect()})),tC(function(){n=tP(e,i=tR("FID"),no,t.reportAllChanges),tO=[],tE=-1,tS=null,ns(addEventListener),tO.push(s),nr()}))})},inp:function(e,t){"PerformanceEventTiming"in self&&"interactionId"in PerformanceEventTiming.prototype&&(t=t||{},tF(function(){tQ();var n,r,i=tR("INP"),s=function(e){t6(function(){e.forEach(t3);var t=t1();t&&t.latency!==i.value&&(i.value=t.latency,i.entries=t.entries,r())})},o=tI("event",s,{durationThreshold:null!=(n=t.durationThreshold)?n:40});r=tP(e,i,t5,t.reportAllChanges),o&&(o.observe({type:"first-input",buffered:!0}),tk(function(){s(o.takeRecords()),r(!0)}),tC(function(){t0=tJ(),tY.length=0,tZ.clear(),r=tP(e,i=tR("INP"),t5,t.reportAllChanges)}))}))},lcp:function(e,t){t=t||{},tF(function(){var n,r=tz(),i=tR("LCP"),s=function(e){t.reportAllChanges||(e=e.slice(-1)),e.forEach(function(e){e.startTime<r.firstHiddenTime&&(i.value=Math.max(e.startTime-tL(),0),i.entries=[e],n())})},o=tI("largest-contentful-paint",s);if(o){n=tP(e,i,t9,t.reportAllChanges);var a=tD(function(){t4[i.id]||(s(o.takeRecords()),o.disconnect(),t4[i.id]=!0,n(!0))});["keydown","click"].forEach(function(e){addEventListener(e,function(){return t6(a)},{once:!0,capture:!0})}),tk(a),tC(function(r){n=tP(e,i=tR("LCP"),t9,t.reportAllChanges),tN(function(){i.value=performance.now()-r.timeStamp,t4[i.id]=!0,n(!0)})})}})},ttfb:function(e,t){t=t||{};var n=tR("TTFB"),r=tP(e,n,t8,t.reportAllChanges);t7(function(){var i=tx();i&&(n.value=Math.max(i.responseStart-tL(),0),n.entries=[i],r(!0),tC(function(){(r=tP(e,n=tR("TTFB",0),t8,t.reportAllChanges))(!0)}))})}};var nu,nl,nc=function(){var e=self.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0];if(e&&e.responseStart>0&&e.responseStart<performance.now())return e},nd=function(e){if("loading"===document.readyState)return"loading";var t=nc();if(t){if(e<t.domInteractive)return"loading";if(0===t.domContentLoadedEventStart||e<t.domContentLoadedEventStart)return"dom-interactive";if(0===t.domComplete||e<t.domComplete)return"dom-content-loaded"}return"complete"},np=function(e){var t=e.nodeName;return 1===e.nodeType?t.toLowerCase():t.toUpperCase().replace(/^#/,"")},nf=function(e,t){var n="";try{for(;e&&9!==e.nodeType;){var r=e,i=r.id?"#"+r.id:np(r)+(r.classList&&r.classList.value&&r.classList.value.trim()&&r.classList.value.trim().length?"."+r.classList.value.trim().replace(/\s+/g,"."):"");if(n.length+i.length>(t||100)-1)return n||i;if(n=n?i+">"+n:i,r.id)break;e=r.parentNode}}catch(e){}return n},nh=-1,ng=function(){return nh},nm=function(e){addEventListener("pageshow",function(t){t.persisted&&(nh=t.timeStamp,e(t))},!0)},nb=function(){var e=nc();return e&&e.activationStart||0},nv=function(e,t){var n=nc(),r="navigate";return ng()>=0?r="back-forward-cache":n&&(document.prerendering||nb()>0?r="prerender":document.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:"v4-".concat(Date.now(),"-").concat(Math.floor(0x82f79cd8fff*Math.random())+1e12),navigationType:r}},n_=function(e,t,n){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var r=new PerformanceObserver(function(e){Promise.resolve().then(function(){t(e.getEntries())})});return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch(e){}},ny=function(e,t,n,r){var i,s;return function(o){var a;t.value>=0&&(o||r)&&((s=t.value-(i||0))||void 0===i)&&(i=t.value,t.delta=s,a=t.value,t.rating=a>n[1]?"poor":a>n[0]?"needs-improvement":"good",e(t))}},nw=function(e){requestAnimationFrame(function(){return requestAnimationFrame(function(){return e()})})},nS=function(e){document.addEventListener("visibilitychange",function(){"hidden"===document.visibilityState&&e()})},nE=function(e){var t=!1;return function(){t||(e(),t=!0)}},nT=-1,nO=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},nA=function(e){"hidden"===document.visibilityState&&nT>-1&&(nT="visibilitychange"===e.type?e.timeStamp:0,nx())},nC=function(){addEventListener("visibilitychange",nA,!0),addEventListener("prerenderingchange",nA,!0)},nx=function(){removeEventListener("visibilitychange",nA,!0),removeEventListener("prerenderingchange",nA,!0)},nL=function(){return nT<0&&(nT=nO(),nC(),nm(function(){setTimeout(function(){nT=nO(),nC()},0)})),{get firstHiddenTime(){return nT}}},nR=function(e){document.prerendering?addEventListener("prerenderingchange",function(){return e()},!0):e()},nI=[1800,3e3],nP=function(e,t){t=t||{},nR(function(){var n,r=nL(),i=nv("FCP"),s=n_("paint",function(e){e.forEach(function(e){"first-contentful-paint"===e.name&&(s.disconnect(),e.startTime<r.firstHiddenTime&&(i.value=Math.max(e.startTime-nb(),0),i.entries.push(e),n(!0)))})});s&&(n=ny(e,i,nI,t.reportAllChanges),nm(function(r){n=ny(e,i=nv("FCP"),nI,t.reportAllChanges),nw(function(){i.value=performance.now()-r.timeStamp,n(!0)})}))})},nN=[.1,.25],nk=function(e,t){var n,r;n=function(t){e(function(e){var t,n={};if(e.entries.length){var r=e.entries.reduce(function(e,t){return e&&e.value>t.value?e:t});if(r&&r.sources&&r.sources.length){var i=(t=r.sources).find(function(e){return e.node&&1===e.node.nodeType})||t[0];i&&(n={largestShiftTarget:nf(i.node),largestShiftTime:r.startTime,largestShiftValue:r.value,largestShiftSource:i,largestShiftEntry:r,loadState:nd(r.startTime)})}}return Object.assign(e,{attribution:n})}(t))},r=(r=t)||{},nP(nE(function(){var e,t=nv("CLS",0),i=0,s=[],o=function(n){n.forEach(function(e){if(!e.hadRecentInput){var t=s[0],n=s[s.length-1];i&&e.startTime-n.startTime<1e3&&e.startTime-t.startTime<5e3?(i+=e.value,s.push(e)):(i=e.value,s=[e])}}),i>t.value&&(t.value=i,t.entries=s,e())},a=n_("layout-shift",o);a&&(e=ny(n,t,nN,r.reportAllChanges),nS(function(){o(a.takeRecords()),e(!0)}),nm(function(){i=0,e=ny(n,t=nv("CLS",0),nN,r.reportAllChanges),nw(function(){return e()})}),setTimeout(e,0))}))},nD=function(e,t){nP(function(t){e(function(e){var t={timeToFirstByte:0,firstByteToFCP:e.value,loadState:nd(ng())};if(e.entries.length){var n=nc(),r=e.entries[e.entries.length-1];if(n){var i=n.activationStart||0,s=Math.max(0,n.responseStart-i);t={timeToFirstByte:s,firstByteToFCP:e.value-s,loadState:nd(e.entries[0].startTime),navigationEntry:n,fcpEntry:r}}}return Object.assign(e,{attribution:t})}(t))},t)},nj=0,nM=1/0,nU=0,nB=function(e){e.forEach(function(e){e.interactionId&&(nM=Math.min(nM,e.interactionId),nj=(nU=Math.max(nU,e.interactionId))?(nU-nM)/7+1:0)})},n$=function(){return nu?nj:performance.interactionCount||0},nz=function(){"interactionCount"in performance||nu||(nu=n_("event",nB,{type:"event",buffered:!0,durationThreshold:0}))},nF=[],nV=new Map,nH=0,nq=function(){var e=Math.min(nF.length-1,Math.floor((n$()-nH)/50));return nF[e]},nG=[],nK=function(e){if(nG.forEach(function(t){return t(e)}),e.interactionId||"first-input"===e.entryType){var t=nF[nF.length-1],n=nV.get(e.interactionId);if(n||nF.length<10||e.duration>t.latency){if(n)e.duration>n.latency?(n.entries=[e],n.latency=e.duration):e.duration===n.latency&&e.startTime===n.entries[0].startTime&&n.entries.push(e);else{var r={id:e.interactionId,latency:e.duration,entries:[e]};nV.set(r.id,r),nF.push(r)}nF.sort(function(e,t){return t.latency-e.latency}),nF.length>10&&nF.splice(10).forEach(function(e){return nV.delete(e.id)})}}},nW=function(e){var t=self.requestIdleCallback||self.setTimeout,n=-1;return e=nE(e),"hidden"===document.visibilityState?e():(n=t(e),nS(e)),n},nX=[200,500],nJ=function(e,t){"PerformanceEventTiming"in self&&"interactionId"in PerformanceEventTiming.prototype&&(t=t||{},nR(function(){nz();var n,r,i=nv("INP"),s=function(e){nW(function(){e.forEach(nK);var t=nq();t&&t.latency!==i.value&&(i.value=t.latency,i.entries=t.entries,r())})},o=n_("event",s,{durationThreshold:null!=(n=t.durationThreshold)?n:40});r=ny(e,i,nX,t.reportAllChanges),o&&(o.observe({type:"first-input",buffered:!0}),nS(function(){s(o.takeRecords()),r(!0)}),nm(function(){nH=n$(),nF.length=0,nV.clear(),r=ny(e,i=nv("INP"),nX,t.reportAllChanges)}))}))},nQ=[],nY=[],nZ=0,n0=new WeakMap,n1=new Map,n2=-1,n3=function(e){nQ=nQ.concat(e),n6()},n6=function(){n2<0&&(n2=nW(n5))},n5=function(){n1.size>10&&n1.forEach(function(e,t){nV.has(t)||n1.delete(t)});var e=nF.map(function(e){return n0.get(e.entries[0])}),t=nY.length-50;nY=nY.filter(function(n,r){return r>=t||e.includes(n)});for(var n=new Set,r=0;r<nY.length;r++){var i=nY[r];re(i.startTime,i.processingEnd).forEach(function(e){n.add(e)})}var s=nQ.length-1-50;nQ=nQ.filter(function(e,t){return e.startTime>nZ&&t>s||n.has(e)}),n2=-1};nG.push(function(e){e.interactionId&&e.target&&!n1.has(e.interactionId)&&n1.set(e.interactionId,e.target)},function(e){var t,n=e.startTime+e.duration;nZ=Math.max(nZ,e.processingEnd);for(var r=nY.length-1;r>=0;r--){var i=nY[r];if(8>=Math.abs(n-i.renderTime)){(t=i).startTime=Math.min(e.startTime,t.startTime),t.processingStart=Math.min(e.processingStart,t.processingStart),t.processingEnd=Math.max(e.processingEnd,t.processingEnd),t.entries.push(e);break}}t||(t={startTime:e.startTime,processingStart:e.processingStart,processingEnd:e.processingEnd,renderTime:n,entries:[e]},nY.push(t)),(e.interactionId||"first-input"===e.entryType)&&n0.set(e,t),n6()});var n9,n4,n8,n7,re=function(e,t){for(var n,r=[],i=0;n=nQ[i];i++)if(!(n.startTime+n.duration<e)){if(n.startTime>t)break;r.push(n)}return r},rt=function(e,t){nl||(nl=n_("long-animation-frame",n3)),nJ(function(t){var n,r,i,s,o,a,u,l,c,d;e((n=t.entries[0],r=n0.get(n),i=n.processingStart,s=r.processingEnd,o=r.entries.sort(function(e,t){return e.processingStart-t.processingStart}),a=re(n.startTime,s),l=(u=t.entries.find(function(e){return e.target}))&&u.target||n1.get(n.interactionId),c=[n.startTime+n.duration,s].concat(a.map(function(e){return e.startTime+e.duration})),d=Math.max.apply(Math,c),Object.assign(t,{attribution:{interactionTarget:nf(l),interactionTargetElement:l,interactionType:n.name.startsWith("key")?"keyboard":"pointer",interactionTime:n.startTime,nextPaintTime:d,processedEventEntries:o,longAnimationFrameEntries:a,inputDelay:i-n.startTime,processingDuration:s-i,presentationDelay:Math.max(d-s,0),loadState:nd(n.startTime)}})))},t)},rn=[2500,4e3],rr={},ri=function(e,t){var n,r;n=function(t){e(function(e){var t={timeToFirstByte:0,resourceLoadDelay:0,resourceLoadDuration:0,elementRenderDelay:e.value};if(e.entries.length){var n=nc();if(n){var r=n.activationStart||0,i=e.entries[e.entries.length-1],s=i.url&&performance.getEntriesByType("resource").filter(function(e){return e.name===i.url})[0],o=Math.max(0,n.responseStart-r),a=Math.max(o,s?(s.requestStart||s.startTime)-r:0),u=Math.max(a,s?s.responseEnd-r:0),l=Math.max(u,i.startTime-r);t={element:nf(i.element),timeToFirstByte:o,resourceLoadDelay:a-o,resourceLoadDuration:u-a,elementRenderDelay:l-u,navigationEntry:n,lcpEntry:i},i.url&&(t.url=i.url),s&&(t.lcpResourceEntry=s)}}return Object.assign(e,{attribution:t})}(t))},r=(r=t)||{},nR(function(){var e,t=nL(),i=nv("LCP"),s=function(n){r.reportAllChanges||(n=n.slice(-1)),n.forEach(function(n){n.startTime<t.firstHiddenTime&&(i.value=Math.max(n.startTime-nb(),0),i.entries=[n],e())})},o=n_("largest-contentful-paint",s);if(o){e=ny(n,i,rn,r.reportAllChanges);var a=nE(function(){rr[i.id]||(s(o.takeRecords()),o.disconnect(),rr[i.id]=!0,e(!0))});["keydown","click"].forEach(function(e){addEventListener(e,function(){return nW(a)},{once:!0,capture:!0})}),nS(a),nm(function(t){e=ny(n,i=nv("LCP"),rn,r.reportAllChanges),nw(function(){i.value=performance.now()-t.timeStamp,rr[i.id]=!0,e(!0)})})}})},rs=[800,1800],ro=function e(t){document.prerendering?nR(function(){return e(t)}):"complete"!==document.readyState?addEventListener("load",function(){return e(t)},!0):setTimeout(t,0)},ra=function(e,t){t=t||{};var n=nv("TTFB"),r=ny(e,n,rs,t.reportAllChanges);ro(function(){var i=nc();i&&(n.value=Math.max(i.responseStart-nb(),0),n.entries=[i],r(!0),nm(function(){(r=ny(e,n=nv("TTFB",0),rs,t.reportAllChanges))(!0)}))})},ru=function(e,t){ra(function(t){e(function(e){var t={waitingDuration:0,cacheDuration:0,dnsDuration:0,connectionDuration:0,requestDuration:0};if(e.entries.length){var n=e.entries[0],r=n.activationStart||0,i=Math.max((n.workerStart||n.fetchStart)-r,0),s=Math.max(n.domainLookupStart-r,0),o=Math.max(n.connectStart-r,0),a=Math.max(n.connectEnd-r,0);t={waitingDuration:i,cacheDuration:s-i,dnsDuration:o-s,connectionDuration:a-o,requestDuration:e.value-a,navigationEntry:n}}return Object.assign(e,{attribution:t})}(t))},t)},rl={passive:!0,capture:!0},rc=new Date,rd=function(e,t){n9||(n9=t,n4=e,n8=new Date,rh(removeEventListener),rp())},rp=function(){if(n4>=0&&n4<n8-rc){var e={entryType:"first-input",name:n9.type,target:n9.target,cancelable:n9.cancelable,startTime:n9.timeStamp,processingStart:n9.timeStamp+n4};n7.forEach(function(t){t(e)}),n7=[]}},rf=function(e){if(e.cancelable){var t,n,r,i=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?(t=function(){rd(i,e),r()},n=function(){r()},r=function(){removeEventListener("pointerup",t,rl),removeEventListener("pointercancel",n,rl)},addEventListener("pointerup",t,rl),addEventListener("pointercancel",n,rl)):rd(i,e)}},rh=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach(function(t){return e(t,rf,rl)})},rg=[100,300],rm=function(e,t){t=t||{},nR(function(){var n,r=nL(),i=nv("FID"),s=function(e){e.startTime<r.firstHiddenTime&&(i.value=e.processingStart-e.startTime,i.entries.push(e),n(!0))},o=function(e){e.forEach(s)},a=n_("first-input",o);n=ny(e,i,rg,t.reportAllChanges),a&&(nS(nE(function(){o(a.takeRecords()),a.disconnect()})),nm(function(){n=ny(e,i=nv("FID"),rg,t.reportAllChanges),n7=[],n4=-1,n9=null,rh(addEventListener),n7.push(s),rp()}))})},rb=function(e,t){rm(function(t){var n;e((n=t.entries[0],Object.assign(t,{attribution:{eventTarget:nf(n.target),eventType:n.name,eventTime:n.startTime,eventEntry:n,loadState:nd(n.startTime)}})))},t)};let rv="load_state",r_="time_to_first_byte";class ry{constructor(e,t){this.corePushMeasurement=e,this.webVitalConfig=t}initialize(){this.measureCLS(),this.measureFCP(),this.measureFID(),this.measureINP(),this.measureLCP(),this.measureTTFB()}measureCLS(){var e;nk(e=>{let{loadState:t,largestShiftValue:n,largestShiftTime:r,largestShiftTarget:i}=e.attribution,s=this.buildInitialValues(e);this.addIfPresent(s,"largest_shift_value",n),this.addIfPresent(s,"largest_shift_time",r);let o=this.buildInitialContext(e);this.addIfPresent(o,rv,t),this.addIfPresent(o,"largest_shift_target",i),this.pushMeasurement(s,o)},{reportAllChanges:null==(e=this.webVitalConfig)?void 0:e.reportAllChanges})}measureFCP(){var e;nD(e=>{let{firstByteToFCP:t,timeToFirstByte:n,loadState:r}=e.attribution,i=this.buildInitialValues(e);this.addIfPresent(i,"first_byte_to_fcp",t),this.addIfPresent(i,r_,n);let s=this.buildInitialContext(e);this.addIfPresent(s,rv,r),this.pushMeasurement(i,s)},{reportAllChanges:null==(e=this.webVitalConfig)?void 0:e.reportAllChanges})}measureFID(){var e;rb(e=>{let{eventTime:t,eventTarget:n,eventType:r,loadState:i}=e.attribution,s=this.buildInitialValues(e);this.addIfPresent(s,"event_time",t);let o=this.buildInitialContext(e);this.addIfPresent(o,"event_target",n),this.addIfPresent(o,"event_type",r),this.addIfPresent(o,rv,i),this.pushMeasurement(s,o)},{reportAllChanges:null==(e=this.webVitalConfig)?void 0:e.reportAllChanges})}measureINP(){var e;rt(e=>{let{interactionTime:t,presentationDelay:n,inputDelay:r,processingDuration:i,nextPaintTime:s,loadState:o,interactionTarget:a,interactionType:u}=e.attribution,l=this.buildInitialValues(e);this.addIfPresent(l,"interaction_time",t),this.addIfPresent(l,"presentation_delay",n),this.addIfPresent(l,"input_delay",r),this.addIfPresent(l,"processing_duration",i),this.addIfPresent(l,"next_paint_time",s);let c=this.buildInitialContext(e);this.addIfPresent(c,rv,o),this.addIfPresent(c,"interaction_target",a),this.addIfPresent(c,"interaction_type",u),this.pushMeasurement(l,c)},{reportAllChanges:null==(e=this.webVitalConfig)?void 0:e.reportAllChanges})}measureLCP(){var e;ri(e=>{let{elementRenderDelay:t,resourceLoadDelay:n,resourceLoadDuration:r,timeToFirstByte:i,element:s}=e.attribution,o=this.buildInitialValues(e);this.addIfPresent(o,"element_render_delay",t),this.addIfPresent(o,"resource_load_delay",n),this.addIfPresent(o,"resource_load_duration",r),this.addIfPresent(o,r_,i);let a=this.buildInitialContext(e);this.addIfPresent(a,"element",s),this.pushMeasurement(o,a)},{reportAllChanges:null==(e=this.webVitalConfig)?void 0:e.reportAllChanges})}measureTTFB(){var e;ru(e=>{let{dnsDuration:t,connectionDuration:n,requestDuration:r,waitingDuration:i,cacheDuration:s}=e.attribution,o=this.buildInitialValues(e);this.addIfPresent(o,"dns_duration",t),this.addIfPresent(o,"connection_duration",n),this.addIfPresent(o,"request_duration",r),this.addIfPresent(o,"waiting_duration",i),this.addIfPresent(o,"cache_duration",s);let a=this.buildInitialContext(e);this.pushMeasurement(o,a)},{reportAllChanges:null==(e=this.webVitalConfig)?void 0:e.reportAllChanges})}buildInitialValues(e){return{[e.name.toLowerCase()]:e.value,delta:e.delta}}buildInitialContext(e){var t;let n=null!=(t=eU(te,ej.session))?t:eR;return{id:e.id,rating:e.rating,navigation_type:e.navigationType,navigation_entry_id:n}}pushMeasurement(e,t){this.corePushMeasurement({type:"web-vitals",values:e},{context:t})}addIfPresent(e,t,n){n&&(e[t]=n)}}class rw extends e9{constructor(){super(...arguments),this.name="@grafana/faro-web-sdk:instrumentation-web-vitals",this.version=eu}initialize(){this.logDebug("Initializing"),this.intializeWebVitalsInstrumentation().initialize()}intializeWebVitalsInstrumentation(){var e,t,n;return(null==(e=this.config)?void 0:e.trackWebVitalsAttribution)===!1||(null==(n=null==(t=this.config)?void 0:t.webVitalsInstrumentation)?void 0:n.trackAttribution)===!1?new na(this.api.pushMeasurement,this.config.webVitalsInstrumentation):new ry(this.api.pushMeasurement,this.config.webVitalsInstrumentation)}}class rS extends e9{constructor(){super(...arguments),this.name="@grafana/faro-web-sdk:instrumentation-session",this.version=eu}sendSessionStartEvent(e){var t,n;let r=e.session;if(r&&r.id!==(null==(t=this.notifiedSession)?void 0:t.id)){if(this.notifiedSession&&this.notifiedSession.id===(null==(n=r.attributes)?void 0:n.previousSession)){this.api.pushEvent("session_extend",{},void 0,{skipDedupe:!0}),this.notifiedSession=r;return}this.notifiedSession=r,this.api.pushEvent(eG,{},void 0,{skipDedupe:!0})}}createInitialSession(e,t){var n,r,i,s,o,a,u,l,c,d;let p,f,h=e.fetchUserSession();if(t.persistent&&t.maxSessionPersistenceTime&&h){let e=F();h.lastActivity<e-t.maxSessionPersistenceTime&&(e0.removeUserSession(),h=null)}if(eJ(h)){let e=null==h?void 0:h.sessionId;f=eX({sessionId:e,isSampled:h.isSampled||!1,started:null==h?void 0:h.started});let i=null==h?void 0:h.sessionMeta,s=Object.assign(Object.assign({},null==(n=t.session)?void 0:n.overrides),null==i?void 0:i.overrides);f.sessionMeta=Object.assign(Object.assign({},t.session),{id:e,attributes:Object.assign(Object.assign(Object.assign({},null==(r=t.session)?void 0:r.attributes),null==i?void 0:i.attributes),{isSampled:f.isSampled.toString()}),overrides:s}),p=eK}else{let e=null!=(s=null==(i=t.session)?void 0:i.id)?s:({id:null!=(d=null==(c=null==(l=null==(u=O.config)?void 0:u.sessionTracking)?void 0:l.generateSessionId)?void 0:c.call(l))?d:eq(),attributes:void 0}).id;f=eX({sessionId:e,isSampled:eW()});let n=null==(o=t.session)?void 0:o.overrides;f.sessionMeta=Object.assign({id:e,attributes:Object.assign({isSampled:f.isSampled.toString()},null==(a=t.session)?void 0:a.attributes)},n?{overrides:n}:{}),p=eG}return{initialSession:f,lifecycleType:p}}registerBeforeSendHook(e){var t;let{updateSession:n}=new e;null==(t=this.transports)||t.addBeforeSendHooks(e=>{var t,r,i;n();let s=null==(t=e.meta.session)?void 0:t.attributes;if(s&&(null==s?void 0:s.isSampled)==="true"){let t=JSON.parse(JSON.stringify(e)),n=null==(r=t.meta.session)?void 0:r.attributes;return null==n||delete n.isSampled,0===Object.keys(null!=n?n:{}).length&&(null==(i=t.meta.session)||delete i.attributes),t}return null})}initialize(){this.logDebug("init session instrumentation");let e=this.config.sessionTracking;if(null==e?void 0:e.enabled){let t=e2(e);this.registerBeforeSendHook(t);let{initialSession:n,lifecycleType:r}=this.createInitialSession(t,e);t.storeUserSession(n);let i=n.sessionMeta;this.notifiedSession=i,this.api.setSession(i),r===eG&&this.api.pushEvent(eG,{},void 0,{skipDedupe:!0}),r===eK&&this.api.pushEvent(eK,{},void 0,{skipDedupe:!0})}this.metas.addListener(this.sendSessionStartEvent.bind(this))}}class rE extends e9{constructor(){super(...arguments),this.name="@grafana/faro-web-sdk:instrumentation-view",this.version=eu}sendViewChangedEvent(e){var t,n,r,i;let s=e.view;s&&s.name!==(null==(t=this.notifiedView)?void 0:t.name)&&(this.api.pushEvent("view_changed",{fromView:null!=(r=null==(n=this.notifiedView)?void 0:n.name)?r:eR,toView:null!=(i=s.name)?i:eR},void 0,{skipDedupe:!0}),this.notifiedView=s)}initialize(){this.metas.addListener(this.sendViewChangedEvent.bind(this))}}class rT extends e9{constructor(){super(),this.name="@grafana/faro-web-sdk:instrumentation-csp",this.version=eu}initialize(){document.addEventListener("securitypolicyviolation",this.securitypolicyviolationHandler.bind(this))}destroy(){document.removeEventListener("securitypolicyviolation",this.securitypolicyviolationHandler)}securitypolicyviolationHandler(e){this.api.pushEvent("securitypolicyviolation",z(e))}}class rO extends e9{constructor(e={}){super(),this.options=e,this.name="@grafana/faro-web-sdk:instrumentation-console",this.version=eu,this.errorSerializer=ee}initialize(){var e,t,n,r;this.options=Object.assign(Object.assign({},this.options),this.config.consoleInstrumentation);let i=(null==(e=this.options)?void 0:e.serializeErrors)||!!(null==(t=this.options)?void 0:t.errorSerializer);this.errorSerializer=i?null!=(r=null==(n=this.options)?void 0:n.errorSerializer)?r:Q:ee,Z.filter(e=>{var t,n;return!(null!=(n=null==(t=this.options)?void 0:t.disabledLevels)?n:rO.defaultDisabledLevels).includes(e)}).forEach(e=>{console[e]=(...t)=>{var n,r;try{if(e!==t_.ERROR||(null==(n=this.options)?void 0:n.consoleErrorAsLog))if(e===t_.ERROR&&(null==(r=this.options)?void 0:r.consoleErrorAsLog)){let{value:n,type:r,stackFrames:i}=tm(t,this.errorSerializer);this.api.pushLog(n?[rO.consoleErrorPrefix+n]:t,{level:e,context:{value:null!=n?n:"",type:null!=r?r:"",stackFrames:(null==i?void 0:i.length)?Q(i):""}})}else this.api.pushLog(t,{level:e});else{let{value:e,type:n,stackFrames:r}=tm(t,this.errorSerializer);if(e&&!n&&!r)return void this.api.pushError(Error(rO.consoleErrorPrefix+e));this.api.pushError(Error(rO.consoleErrorPrefix+e),{type:n,stackFrames:r})}}catch(e){this.logError(e)}finally{this.unpatchedConsole[e](...t)}}})}}function rA(e={}){let t=[new tp,new tb,new rw,new rS,new rE];return!1!==e.enablePerformanceInstrumentation&&t.unshift(new tu),!1!==e.enableContentSecurityPolicyInstrumentation&&t.push(new rT),!1!==e.captureConsole&&t.push(new rO({disabledLevels:e.captureConsoleDisabledLevels})),t}rO.defaultDisabledLevels=[t_.DEBUG,t_.TRACE,t_.LOG],rO.consoleErrorPrefix="console.error: ";var rC=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n},rx=n(1630),rL=n(7010),rR=n(1369),rI=n(2495),rP=n(3107);let rN=(0,rP.n)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function rk(e){return!0===e.getValue(rN)}let rD="[_0-9a-z-*/]",rj=`[a-z]${rD}{0,255}`,rM=`[a-z0-9]${rD}{0,240}@[a-z]${rD}{0,13}`,rU=RegExp(`^(?:${rj}|${rM})$`),rB=/^[ -~]{0,255}[!-~]$/,r$=/,|=/;class rz{_internalState=new Map;constructor(e){e&&this._parse(e)}set(e,t){let n=this._clone();return n._internalState.has(e)&&n._internalState.delete(e),n._internalState.set(e,t),n}unset(e){let t=this._clone();return t._internalState.delete(e),t}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce((e,t)=>(e.push(t+"="+this.get(t)),e),[]).join(",")}_parse(e){!(e.length>512)&&(this._internalState=e.split(",").reverse().reduce((e,t)=>{let n=t.trim(),r=n.indexOf("=");if(-1!==r){let i=n.slice(0,r),s=n.slice(r+1,t.length);rU.test(i)&&rB.test(s)&&!r$.test(s)&&e.set(i,s)}return e},new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let e=new rz;return e._internalState=new Map(this._internalState),e}}let rF="traceparent",rV="tracestate",rH=RegExp("^\\s?((?!ff)[\\da-f]{2})-((?![0]{32})[\\da-f]{32})-((?![0]{16})[\\da-f]{16})-([\\da-f]{2})(-.*)?\\s?$");class rq{inject(e,t,n){let r=rx.u.getSpanContext(e);if(!r||rk(e)||!(0,rR.YA)(r))return;let i=`00-${r.traceId}-${r.spanId}-0${Number(r.traceFlags||rI.X.NONE).toString(16)}`;n.set(t,rF,i),r.traceState&&n.set(t,rV,r.traceState.serialize())}extract(e,t,n){let r=n.get(t,rF);if(!r)return e;let i=Array.isArray(r)?r[0]:r;if("string"!=typeof i)return e;let s=function(e){let t=rH.exec(e);return!t||"00"===t[1]&&t[5]?null:{traceId:t[2],spanId:t[3],traceFlags:parseInt(t[4],16)}}(i);if(!s)return e;s.isRemote=!0;let o=n.get(t,rV);if(o){let e=Array.isArray(o)?o.join(","):o;s.traceState=new rz("string"==typeof e?e:void 0)}return rx.u.setSpanContext(e,s)}fields(){return[rF,rV]}}var rG=function(){var e=function(t,n){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),rK=function(){function e(){}return e.prototype.createGauge=function(e,t){return r5},e.prototype.createHistogram=function(e,t){return r9},e.prototype.createCounter=function(e,t){return r6},e.prototype.createUpDownCounter=function(e,t){return r4},e.prototype.createObservableGauge=function(e,t){return r7},e.prototype.createObservableCounter=function(e,t){return r8},e.prototype.createObservableUpDownCounter=function(e,t){return ie},e.prototype.addBatchObservableCallback=function(e,t){},e.prototype.removeBatchObservableCallback=function(e){},e}(),rW=function(){},rX=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return rG(t,e),t.prototype.add=function(e,t){},t}(rW),rJ=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return rG(t,e),t.prototype.add=function(e,t){},t}(rW),rQ=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return rG(t,e),t.prototype.record=function(e,t){},t}(rW),rY=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return rG(t,e),t.prototype.record=function(e,t){},t}(rW),rZ=function(){function e(){}return e.prototype.addCallback=function(e){},e.prototype.removeCallback=function(e){},e}(),r0=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return rG(t,e),t}(rZ),r1=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return rG(t,e),t}(rZ),r2=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return rG(t,e),t}(rZ),r3=new rK,r6=new rX,r5=new rQ,r9=new rY,r4=new rJ,r8=new r0,r7=new r1,ie=new r2,it=new(function(){function e(){}return e.prototype.getMeter=function(e,t,n){return r3},e}()),ir=n(7079),ii=n(1720),is="metrics",io=(function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalMeterProvider=function(e){return(0,ir.$G)(is,e,ii.K.instance())},e.prototype.getMeterProvider=function(){return(0,ir.mS)(is)||it},e.prototype.getMeter=function(e,t,n){return this.getMeterProvider().getMeter(e,t,n)},e.prototype.disable=function(){(0,ir.kv)(is,ii.K.instance())},e})().getInstance();let ia="object"==typeof globalThis?globalThis:"object"==typeof self?self:"object"==typeof window?window:"object"==typeof n.g?n.g:{},iu=Symbol.for("io.opentelemetry.js.api.logs");class il{emit(e){}}let ic=new il;class id{getLogger(e,t,n){return new il}}let ip=new id;class ih{constructor(e,t,n,r){this._provider=e,this.name=t,this.version=n,this.options=r}emit(e){this._getLogger().emit(e)}_getLogger(){if(this._delegate)return this._delegate;let e=this._provider.getDelegateLogger(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):ic}}class ig{getLogger(e,t,n){var r;return null!=(r=this.getDelegateLogger(e,t,n))?r:new ih(this,e,t,n)}getDelegate(){var e;return null!=(e=this._delegate)?e:ip}setDelegate(e){this._delegate=e}getDelegateLogger(e,t,n){var r;return null==(r=this._delegate)?void 0:r.getLogger(e,t,n)}}class im{constructor(){this._proxyLoggerProvider=new ig}static getInstance(){return this._instance||(this._instance=new im),this._instance}setGlobalLoggerProvider(e){return ia[iu]?this.getLoggerProvider():(ia[iu]=t=>1===t?e:ip,this._proxyLoggerProvider.setDelegate(e),e)}getLoggerProvider(){var e,t;return null!=(t=null==(e=ia[iu])?void 0:e.call(ia,1))?t:this._proxyLoggerProvider}getLogger(e,t,n){return this.getLoggerProvider().getLogger(e,t,n)}disable(){delete ia[iu],this._proxyLoggerProvider=new ig}}let ib=im.getInstance();var iv=n(9034),i_=n(620);let iy={[i_.aO]:"opentelemetry","process.runtime.name":"browser",[i_.E$]:i_.qV,[i_.aJ]:"2.1.0"},iw=e=>null!==e&&"object"==typeof e&&"function"==typeof e.then;class iS{_rawAttributes;_asyncAttributesPending=!1;_schemaUrl;_memoizedAttributes;static FromAttributeList(e,t){let n=new iS({},t);return n._rawAttributes=iO(e),n._asyncAttributesPending=e.filter(([e,t])=>iw(t)).length>0,n}constructor(e,t){let n=e.attributes??{};this._rawAttributes=Object.entries(n).map(([e,t])=>(iw(t)&&(this._asyncAttributesPending=!0),[e,t])),this._rawAttributes=iO(this._rawAttributes),this._schemaUrl=function(e){if("string"==typeof e||void 0===e)return e;iv.s.warn("Schema URL must be string or undefined, got %s. Schema URL will be ignored.",e)}(t?.schemaUrl)}get asyncAttributesPending(){return this._asyncAttributesPending}async waitForAsyncAttributes(){if(this.asyncAttributesPending){for(let e=0;e<this._rawAttributes.length;e++){let[t,n]=this._rawAttributes[e];this._rawAttributes[e]=[t,iw(n)?await n:n]}this._asyncAttributesPending=!1}}get attributes(){if(this.asyncAttributesPending&&iv.s.error("Accessing resource attributes before async attributes settled"),this._memoizedAttributes)return this._memoizedAttributes;let e={};for(let[t,n]of this._rawAttributes){if(iw(n)){iv.s.debug(`Unsettled resource attribute ${t} skipped`);continue}null!=n&&(e[t]??=n)}return this._asyncAttributesPending||(this._memoizedAttributes=e),e}getRawAttributes(){return this._rawAttributes}get schemaUrl(){return this._schemaUrl}merge(e){if(null==e)return this;let t=function(e,t){let n=e?.schemaUrl,r=t?.schemaUrl,i=void 0===r||""===r;return void 0===n||""===n?r:i||n===r?n:void iv.s.warn('Schema URL merge conflict: old resource has "%s", updating resource has "%s". Resulting resource will have undefined Schema URL.',n,r)}(this,e);return iS.FromAttributeList([...e.getRawAttributes(),...this.getRawAttributes()],t?{schemaUrl:t}:void 0)}}function iE(e,t){return iS.FromAttributeList(Object.entries(e),t)}function iT(){return iE({[i_.UX]:"unknown_service",[i_.E$]:iy[i_.E$],[i_.aO]:iy[i_.aO],[i_.aJ]:iy[i_.aJ]})}function iO(e){return e.map(([e,t])=>iw(t)?[e,t.catch(t=>{iv.s.debug("promise rejection for resource attribute: %s - %s",e,t)})]:[e,t])}let iA=Function.prototype.toString,iC=iA.call(Object),ix=Object.getPrototypeOf,iL=Object.prototype,iR=iL.hasOwnProperty,iI=Symbol?Symbol.toStringTag:void 0,iP=iL.toString;function iN(e){var t,n,r;if(null==(t=e)||"object"!=typeof t||"[object Object]"!==(null==(n=e)?void 0===n?"[object Undefined]":"[object Null]":iI&&iI in Object(n)?function(e){let t=iR.call(e,iI),n=e[iI],r=!1;try{e[iI]=void 0,r=!0}catch{}let i=iP.call(e);return r&&(t?e[iI]=n:delete e[iI]),i}(n):(r=n,iP.call(r))))return!1;let i=ix(e);if(null===i)return!0;let s=iR.call(i,"constructor")&&i.constructor;return"function"==typeof s&&s instanceof s&&iA.call(s)===iC}function ik(e){return ij(e)?e.slice():e}function iD(e,t,n){let r=n.get(e[t])||[];for(let n=0,i=r.length;n<i;n++){let i=r[n];if(i.key===t&&i.obj===e)return!0}return!1}function ij(e){return Array.isArray(e)}function iM(e){return"function"==typeof e}function iU(e){return!iB(e)&&!ij(e)&&!iM(e)&&"object"==typeof e}function iB(e){return"string"==typeof e||"number"==typeof e||"boolean"==typeof e||void 0===e||e instanceof Date||e instanceof RegExp||null===e}var i$=n(8932);function iz(e){let t={};if("object"!=typeof e||null==e)return t;for(let[r,i]of Object.entries(e)){var n;if(!("string"==typeof(n=r)&&n.length>0)){iv.s.warn(`Invalid attribute key: ${r}`);continue}if(!iF(i)){iv.s.warn(`Invalid attribute value set for key: ${r}`);continue}Array.isArray(i)?t[r]=i.slice():t[r]=i}return t}function iF(e){return null==e||(Array.isArray(e)?function(e){let t;for(let n of e)if(null!=n){if(!t){if(iV(n)){t=typeof n;continue}return!1}if(typeof n!==t)return!1}return!0}(e):iV(e))}function iV(e){switch(typeof e){case"number":case"boolean":case"string":return!0}return!1}!function(e){e[e.INTERNAL=0]="INTERNAL",e[e.SERVER=1]="SERVER",e[e.CLIENT=2]="CLIENT",e[e.PRODUCER=3]="PRODUCER",e[e.CONSUMER=4]="CONSUMER"}(c||(c={})),function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"}(d||(d={})),!function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"}(p||(p={}));let iH=performance;function iq(e){return[Math.trunc(e/1e3),Math.round(e%1e3*1e6)]}function iG(){let e=iH.timeOrigin;return"number"!=typeof e&&(e=iH.timing&&iH.timing.fetchStart),e}function iK(e){return Array.isArray(e)&&2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]}function iW(e){return iK(e)||"number"==typeof e||e instanceof Date}function iX(e,t){let n=[e[0]+t[0],e[1]+t[1]];return n[1]>=1e9&&(n[1]-=1e9,n[0]+=1),n}class iJ{_spanContext;kind;parentSpanContext;attributes={};links=[];events=[];startTime;resource;instrumentationScope;_droppedAttributesCount=0;_droppedEventsCount=0;_droppedLinksCount=0;name;status={code:p.UNSET};endTime=[0,0];_ended=!1;_duration=[-1,-1];_spanProcessor;_spanLimits;_attributeValueLengthLimit;_performanceStartTime;_performanceOffset;_startTimeProvided;constructor(e){let t=Date.now();this._spanContext=e.spanContext,this._performanceStartTime=iH.now(),this._performanceOffset=t-(this._performanceStartTime+iG()),this._startTimeProvided=null!=e.startTime,this._spanLimits=e.spanLimits,this._attributeValueLengthLimit=this._spanLimits.attributeValueLengthLimit||0,this._spanProcessor=e.spanProcessor,this.name=e.name,this.parentSpanContext=e.parentSpanContext,this.kind=e.kind,this.links=e.links||[],this.startTime=this._getTime(e.startTime??t),this.resource=e.resource,this.instrumentationScope=e.scope,null!=e.attributes&&this.setAttributes(e.attributes),this._spanProcessor.onStart(this,e.context)}spanContext(){return this._spanContext}setAttribute(e,t){if(null==t||this._isSpanEnded())return this;if(0===e.length)return iv.s.warn(`Invalid attribute key: ${e}`),this;if(!iF(t))return iv.s.warn(`Invalid attribute value set for key: ${e}`),this;let{attributeCountLimit:n}=this._spanLimits;return void 0!==n&&Object.keys(this.attributes).length>=n&&!Object.prototype.hasOwnProperty.call(this.attributes,e)?this._droppedAttributesCount++:this.attributes[e]=this._truncateToSize(t),this}setAttributes(e){for(let[t,n]of Object.entries(e))this.setAttribute(t,n);return this}addEvent(e,t,n){if(this._isSpanEnded())return this;let{eventCountLimit:r}=this._spanLimits;if(0===r)return iv.s.warn("No events allowed."),this._droppedEventsCount++,this;void 0!==r&&this.events.length>=r&&(0===this._droppedEventsCount&&iv.s.debug("Dropping extra events."),this.events.shift(),this._droppedEventsCount++),iW(t)&&(iW(n)||(n=t),t=void 0);let i=iz(t);return this.events.push({name:e,attributes:i,time:this._getTime(n),droppedAttributesCount:0}),this}addLink(e){return this.links.push(e),this}addLinks(e){return this.links.push(...e),this}setStatus(e){return this._isSpanEnded()||(this.status={...e},null!=this.status.message&&"string"!=typeof e.message&&(iv.s.warn(`Dropping invalid status.message of type '${typeof e.message}', expected 'string'`),delete this.status.message)),this}updateName(e){return this._isSpanEnded()||(this.name=e),this}end(e){var t,n;let r,i;if(this._isSpanEnded())return void iv.s.error(`${this.name} ${this._spanContext.traceId}-${this._spanContext.spanId} - You can only call end() on a span once.`);this._ended=!0,this.endTime=this._getTime(e),this._duration=(t=this.startTime,r=(n=this.endTime)[0]-t[0],(i=n[1]-t[1])<0&&(r-=1,i+=1e9),[r,i]),this._duration[0]<0&&(iv.s.warn("Inconsistent start and end time, startTime > endTime. Setting span duration to 0ms.",this.startTime,this.endTime),this.endTime=this.startTime.slice(),this._duration=[0,0]),this._droppedEventsCount>0&&iv.s.warn(`Dropped ${this._droppedEventsCount} events because eventCountLimit reached`),this._spanProcessor.onEnd(this)}_getTime(e){if("number"==typeof e&&e<=iH.now()){var t=e+this._performanceOffset;return iX(iq(iG()),iq("number"==typeof t?t:iH.now()))}if("number"==typeof e)return iq(e);if(e instanceof Date)return iq(e.getTime());if(iK(e))return e;if(this._startTimeProvided)return iq(Date.now());let n=iH.now()-this._performanceStartTime;return iX(this.startTime,iq(n))}isRecording(){return!1===this._ended}recordException(e,t){let n={};"string"==typeof e?n[i_.wL]=e:e&&(e.code?n[i_.d6]=e.code.toString():e.name&&(n[i_.d6]=e.name),e.message&&(n[i_.wL]=e.message),e.stack&&(n[i_.Mb]=e.stack)),n[i_.d6]||n[i_.wL]?this.addEvent("exception",n,t):iv.s.warn(`Failed to record an exception ${e}`)}get duration(){return this._duration}get ended(){return this._ended}get droppedAttributesCount(){return this._droppedAttributesCount}get droppedEventsCount(){return this._droppedEventsCount}get droppedLinksCount(){return this._droppedLinksCount}_isSpanEnded(){if(this._ended){let e=Error(`Operation attempted on ended Span {traceId: ${this._spanContext.traceId}, spanId: ${this._spanContext.spanId}}`);iv.s.warn(`Cannot execute the operation on ended Span {traceId: ${this._spanContext.traceId}, spanId: ${this._spanContext.spanId}}`,e)}return this._ended}_truncateToLimitUtil(e,t){return e.length<=t?e:e.substring(0,t)}_truncateToSize(e){let t=this._attributeValueLengthLimit;return t<=0?(iv.s.warn(`Attribute value limit must be positive, got ${t}`),e):"string"==typeof e?this._truncateToLimitUtil(e,t):Array.isArray(e)?e.map(e=>"string"==typeof e?this._truncateToLimitUtil(e,t):e):e}}function iQ(e){}!function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"}(f||(f={}));class iY{shouldSample(){return{decision:f.NOT_RECORD}}toString(){return"AlwaysOffSampler"}}class iZ{shouldSample(){return{decision:f.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}}function i0(e){try{var t;iv.s.error((t=e,"string"==typeof t?t:JSON.stringify(function(e){let t={},n=e;for(;null!==n;)Object.getOwnPropertyNames(n).forEach(e=>{if(t[e])return;let r=n[e];r&&(t[e]=String(r))}),n=Object.getPrototypeOf(n);return t}(t))))}catch{}}class i1{_root;_remoteParentSampled;_remoteParentNotSampled;_localParentSampled;_localParentNotSampled;constructor(e){this._root=e.root,this._root||(i0(Error("ParentBasedSampler must have a root sampler configured")),this._root=new iZ),this._remoteParentSampled=e.remoteParentSampled??new iZ,this._remoteParentNotSampled=e.remoteParentNotSampled??new iY,this._localParentSampled=e.localParentSampled??new iZ,this._localParentNotSampled=e.localParentNotSampled??new iY}shouldSample(e,t,n,r,i,s){let o=rx.u.getSpanContext(e);return o&&(0,rR.YA)(o)?o.isRemote?o.traceFlags&rI.X.SAMPLED?this._remoteParentSampled.shouldSample(e,t,n,r,i,s):this._remoteParentNotSampled.shouldSample(e,t,n,r,i,s):o.traceFlags&rI.X.SAMPLED?this._localParentSampled.shouldSample(e,t,n,r,i,s):this._localParentNotSampled.shouldSample(e,t,n,r,i,s):this._root.shouldSample(e,t,n,r,i,s)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}}class i2{_ratio;_upperBound;constructor(e=0){this._ratio=e,this._ratio=this._normalize(e),this._upperBound=Math.floor(0xffffffff*this._ratio)}shouldSample(e,t){return{decision:(0,rR.hX)(t)&&this._accumulate(t)<this._upperBound?f.RECORD_AND_SAMPLED:f.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(e){return"number"!=typeof e||isNaN(e)?0:e>=1?1:e<=0?0:e}_accumulate(e){let t=0;for(let n=0;n<e.length/8;n++){let r=8*n;t=(t^parseInt(e.slice(r,r+8),16))>>>0}return t}}function i3(){return{sampler:i6(),forceFlushTimeoutMillis:3e4,generalLimits:{attributeValueLengthLimit:iQ("OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT")??1/0,attributeCountLimit:iQ("OTEL_ATTRIBUTE_COUNT_LIMIT")??128},spanLimits:{attributeValueLengthLimit:iQ("OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT")??1/0,attributeCountLimit:iQ("OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT")??128,linkCountLimit:iQ("OTEL_SPAN_LINK_COUNT_LIMIT")??128,eventCountLimit:iQ("OTEL_SPAN_EVENT_COUNT_LIMIT")??128,attributePerEventCountLimit:iQ("OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT")??128,attributePerLinkCountLimit:iQ("OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT")??128}}}function i6(){let e=(void 0)??h.ParentBasedAlwaysOn;switch(e){case h.AlwaysOn:return new iZ;case h.AlwaysOff:return new iY;case h.ParentBasedAlwaysOn:return new i1({root:new iZ});case h.ParentBasedAlwaysOff:return new i1({root:new iY});case h.TraceIdRatio:return new i2(i5());case h.ParentBasedTraceIdRatio:return new i1({root:new i2(i5())});default:return iv.s.error(`OTEL_TRACES_SAMPLER value "${e}" invalid, defaulting to "${h.ParentBasedAlwaysOn}".`),new i1({root:new iZ})}}function i5(){let e=iQ("OTEL_TRACES_SAMPLER_ARG");return null==e?(iv.s.error("OTEL_TRACES_SAMPLER_ARG is blank, defaulting to 1."),1):e<0||e>1?(iv.s.error(`OTEL_TRACES_SAMPLER_ARG=${e} was given, but it is out of range ([0..1]), defaulting to 1.`),1):e}!function(e){e.AlwaysOff="always_off",e.AlwaysOn="always_on",e.ParentBasedAlwaysOff="parentbased_always_off",e.ParentBasedAlwaysOn="parentbased_always_on",e.ParentBasedTraceIdRatio="parentbased_traceidratio",e.TraceIdRatio="traceidratio"}(h||(h={}));let i9=1/0;class i4{generateTraceId=i7(16);generateSpanId=i7(8)}let i8=Array(32);function i7(e){return function(){for(let t=0;t<2*e;t++)i8[t]=Math.floor(16*Math.random())+48,i8[t]>=58&&(i8[t]+=39);return String.fromCharCode.apply(null,i8.slice(0,2*e))}}class se{_sampler;_generalLimits;_spanLimits;_idGenerator;instrumentationScope;_resource;_spanProcessor;constructor(e,t,n,r){let i=function(e){let t={sampler:i6()},n=i3(),r=Object.assign({},n,t,e);return r.generalLimits=Object.assign({},n.generalLimits,e.generalLimits||{}),r.spanLimits=Object.assign({},n.spanLimits,e.spanLimits||{}),r}(t);this._sampler=i.sampler,this._generalLimits=i.generalLimits,this._spanLimits=i.spanLimits,this._idGenerator=t.idGenerator||new i4,this._resource=n,this._spanProcessor=r,this.instrumentationScope=e}startSpan(e,t={},n=rL._.active()){let r,i,s;t.root&&(n=rx.u.deleteSpan(n));let o=rx.u.getSpan(n);if(rk(n))return iv.s.debug("Instrumentation suppressed, returning Noop Span"),rx.u.wrapSpanContext(i$.dM);let a=o?.spanContext(),u=this._idGenerator.generateSpanId();a&&rx.u.isSpanContextValid(a)?(i=a.traceId,s=a.traceState,r=a):i=this._idGenerator.generateTraceId();let l=t.kind??c.INTERNAL,p=(t.links??[]).map(e=>({context:e.context,attributes:iz(e.attributes)})),f=iz(t.attributes),h=this._sampler.shouldSample(n,i,e,l,f,p);s=h.traceState??s;let g={traceId:i,spanId:u,traceFlags:h.decision===d.RECORD_AND_SAMPLED?rI.X.SAMPLED:rI.X.NONE,traceState:s};if(h.decision===d.NOT_RECORD)return iv.s.debug("Recording is off, propagating context in a non-recording span"),rx.u.wrapSpanContext(g);let m=iz(Object.assign(f,h.attributes));return new iJ({resource:this._resource,scope:this.instrumentationScope,context:n,spanContext:g,name:e,kind:l,links:p,parentSpanContext:r,attributes:m,startTime:t.startTime,spanProcessor:this._spanProcessor,spanLimits:this._spanLimits})}startActiveSpan(e,t,n,r){let i,s,o;if(arguments.length<2)return;2==arguments.length?o=t:3==arguments.length?(i=t,o=n):(i=t,s=n,o=r);let a=s??rL._.active(),u=this.startSpan(e,i,a),l=rx.u.setSpan(a,u);return rL._.with(l,o,void 0,u)}getGeneralLimits(){return this._generalLimits}getSpanLimits(){return this._spanLimits}}class st{_spanProcessors;constructor(e){this._spanProcessors=e}forceFlush(){let e=[];for(let t of this._spanProcessors)e.push(t.forceFlush());return new Promise(t=>{Promise.all(e).then(()=>{t()}).catch(e=>{i0(e||Error("MultiSpanProcessor: forceFlush failed")),t()})})}onStart(e,t){for(let n of this._spanProcessors)n.onStart(e,t)}onEnd(e){for(let t of this._spanProcessors)t.onEnd(e)}shutdown(){let e=[];for(let t of this._spanProcessors)e.push(t.shutdown());return new Promise((t,n)=>{Promise.all(e).then(()=>{t()},n)})}}!function(e){e[e.resolved=0]="resolved",e[e.timeout=1]="timeout",e[e.error=2]="error",e[e.unresolved=3]="unresolved"}(g||(g={}));class sn{_config;_tracers=new Map;_resource;_activeSpanProcessor;constructor(e={}){let t=function(...e){let t=e.shift(),n=new WeakMap;for(;e.length>0;)t=function e(t,n,r=0,i){let s;if(!(r>20)){if(r++,iB(t)||iB(n)||iM(n))s=ik(n);else if(ij(t)){if(s=t.slice(),ij(n))for(let e=0,t=n.length;e<t;e++)s.push(ik(n[e]));else if(iU(n)){let e=Object.keys(n);for(let t=0,r=e.length;t<r;t++){let r=e[t];s[r]=ik(n[r])}}}else if(iU(t))if(iU(n)){var o,a;if(o=t,a=n,!(iN(o)&&iN(a)))return n;s=Object.assign({},t);let u=Object.keys(n);for(let o=0,a=u.length;o<a;o++){let a=u[o],l=n[a];if(iB(l))void 0===l?delete s[a]:s[a]=l;else{let o=s[a];if(iD(t,a,i)||iD(n,a,i))delete s[a];else{if(iU(o)&&iU(l)){let e=i.get(o)||[],r=i.get(l)||[];e.push({obj:t,key:a}),r.push({obj:n,key:a}),i.set(o,e),i.set(l,r)}s[a]=e(s[a],l,r,i)}}}}else s=n;return s}}(t,e.shift(),0,n);return t}({},i3(),function(e){let t=Object.assign({},e.spanLimits);return t.attributeCountLimit=e.spanLimits?.attributeCountLimit??e.generalLimits?.attributeCountLimit??iQ("OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT")??iQ("OTEL_ATTRIBUTE_COUNT_LIMIT")??128,t.attributeValueLengthLimit=e.spanLimits?.attributeValueLengthLimit??e.generalLimits?.attributeValueLengthLimit??iQ("OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT")??iQ("OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT")??i9,Object.assign({},e,{spanLimits:t})}(e));this._resource=t.resource??iT(),this._config=Object.assign({},t,{resource:this._resource});let n=[];e.spanProcessors?.length&&n.push(...e.spanProcessors),this._activeSpanProcessor=new st(n)}getTracer(e,t,n){let r=`${e}@${t||""}:${n?.schemaUrl||""}`;return this._tracers.has(r)||this._tracers.set(r,new se({name:e,version:t,schemaUrl:n?.schemaUrl},this._config,this._resource,this._activeSpanProcessor)),this._tracers.get(r)}forceFlush(){let e=this._config.forceFlushTimeoutMillis,t=this._activeSpanProcessor._spanProcessors.map(t=>new Promise(n=>{let r,i=setTimeout(()=>{n(Error(`Span processor did not completed within timeout period of ${e} ms`)),r=g.timeout},e);t.forceFlush().then(()=>{clearTimeout(i),r!==g.timeout&&n(r=g.resolved)}).catch(e=>{clearTimeout(i),r=g.error,n(e)})}));return new Promise((e,n)=>{Promise.all(t).then(t=>{let r=t.filter(e=>e!==g.resolved);r.length>0?n(r):e()}).catch(e=>n([e]))})}shutdown(){return this._activeSpanProcessor.shutdown()}}class sr{_enabled=!1;_currentContext=rP.l;_bindFunction(e=rP.l,t){let n=this,r=function(...r){return n.with(e,()=>t.apply(this,r))};return Object.defineProperty(r,"length",{enumerable:!1,configurable:!0,writable:!1,value:t.length}),r}active(){return this._currentContext}bind(e,t){return(void 0===e&&(e=this.active()),"function"==typeof t)?this._bindFunction(e,t):t}disable(){return this._currentContext=rP.l,this._enabled=!1,this}enable(){return this._enabled||(this._enabled=!0,this._currentContext=rP.l),this}with(e,t,n,...r){let i=this._currentContext;this._currentContext=e||rP.l;try{return t.call(n,...r)}finally{this._currentContext=i}}}var si=n(8069);class ss{_propagators;_fields;constructor(e={}){this._propagators=e.propagators??[],this._fields=Array.from(new Set(this._propagators.map(e=>"function"==typeof e.fields?e.fields():[]).reduce((e,t)=>e.concat(t),[])))}inject(e,t,n){for(let r of this._propagators)try{r.inject(e,t,n)}catch(e){iv.s.warn(`Failed to inject with ${r.constructor.name}. Err: ${e.message}`)}}extract(e,t,n){return this._propagators.reduce((e,r)=>{try{return r.extract(e,t,n)}catch(e){iv.s.warn(`Failed to extract with ${r.constructor.name}. Err: ${e.message}`)}return e},e)}fields(){return this._fields.slice()}}let so="baggage";var sa=n(977);class su{inject(e,t,n){let r=si.$.getBaggage(e);if(!r||rk(e))return;let i=r.getAllEntries().map(([e,t])=>{let n=`${encodeURIComponent(e)}=${encodeURIComponent(t.value)}`;return void 0!==t.metadata&&(n+=";"+t.metadata.toString()),n}).filter(e=>e.length<=4096).slice(0,180).reduce((e,t)=>{let n=`${e}${""!==e?",":""}${t}`;return n.length>8192?e:n},"");i.length>0&&n.set(t,so,i)}extract(e,t,n){let r=n.get(t,so),i=Array.isArray(r)?r.join(","):r;if(!i)return e;let s={};return 0===i.length||(i.split(",").forEach(e=>{let t=function(e){let t,n=e.split(";");if(n.length<=0)return;let r=n.shift();if(!r)return;let i=r.indexOf("=");if(i<=0)return;let s=decodeURIComponent(r.substring(0,i).trim()),o=decodeURIComponent(r.substring(i+1).trim());return n.length>0&&(t=(0,sa.B)(n.join(";"))),{key:s,value:o,metadata:t}}(e);if(t){let e={value:t.value};t.metadata&&(e.metadata=t.metadata),s[t.key]=e}}),0===Object.entries(s).length)?e:si.$.setBaggage(e,si.$.createBaggage(s))}fields(){return[so]}}class sl extends sn{constructor(e={}){super(e)}register(e={}){rx.u.setGlobalTracerProvider(this),function(e){if(null!==e){if(void 0===e)return si.$.setGlobalPropagator(new ss({propagators:[new rq,new su]}));si.$.setGlobalPropagator(e)}}(e.propagator),function(e){if(null!==e){if(void 0===e){let e=new sr;e.enable(),rL._.setGlobalContextManager(e);return}e.enable(),rL._.setGlobalContextManager(e)}}(e.contextManager)}}class sc{_promise;_resolve;_reject;constructor(){this._promise=new Promise((e,t)=>{this._resolve=e,this._reject=t})}get promise(){return this._promise}resolve(e){this._resolve(e)}reject(e){this._reject(e)}}class sd{_callback;_that;_isCalled=!1;_deferred=new sc;constructor(e,t){this._callback=e,this._that=t}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...e){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...e)).then(e=>this._deferred.resolve(e),e=>this._deferred.reject(e))}catch(e){this._deferred.reject(e)}}return this._deferred.promise}}!function(e){e[e.SUCCESS=0]="SUCCESS",e[e.FAILED=1]="FAILED"}(m||(m={}));class sp{_exporter;_maxExportBatchSize;_maxQueueSize;_scheduledDelayMillis;_exportTimeoutMillis;_isExporting=!1;_finishedSpans=[];_timer;_shutdownOnce;_droppedSpansCount=0;constructor(e,t){this._exporter=e,this._maxExportBatchSize="number"==typeof t?.maxExportBatchSize?t.maxExportBatchSize:iQ("OTEL_BSP_MAX_EXPORT_BATCH_SIZE")??512,this._maxQueueSize="number"==typeof t?.maxQueueSize?t.maxQueueSize:iQ("OTEL_BSP_MAX_QUEUE_SIZE")??2048,this._scheduledDelayMillis="number"==typeof t?.scheduledDelayMillis?t.scheduledDelayMillis:iQ("OTEL_BSP_SCHEDULE_DELAY")??5e3,this._exportTimeoutMillis="number"==typeof t?.exportTimeoutMillis?t.exportTimeoutMillis:iQ("OTEL_BSP_EXPORT_TIMEOUT")??3e4,this._shutdownOnce=new sd(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize&&(iv.s.warn("BatchSpanProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize)}forceFlush(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()}onStart(e,t){}onEnd(e){this._shutdownOnce.isCalled||(e.spanContext().traceFlags&rI.X.SAMPLED)!=0&&this._addToBuffer(e)}shutdown(){return this._shutdownOnce.call()}_shutdown(){return Promise.resolve().then(()=>this.onShutdown()).then(()=>this._flushAll()).then(()=>this._exporter.shutdown())}_addToBuffer(e){if(this._finishedSpans.length>=this._maxQueueSize){0===this._droppedSpansCount&&iv.s.debug("maxQueueSize reached, dropping spans"),this._droppedSpansCount++;return}this._droppedSpansCount>0&&(iv.s.warn(`Dropped ${this._droppedSpansCount} spans because maxQueueSize reached`),this._droppedSpansCount=0),this._finishedSpans.push(e),this._maybeStartTimer()}_flushAll(){return new Promise((e,t)=>{let n=[],r=Math.ceil(this._finishedSpans.length/this._maxExportBatchSize);for(let e=0;e<r;e++)n.push(this._flushOneBatch());Promise.all(n).then(()=>{e()}).catch(t)})}_flushOneBatch(){return(this._clearTimer(),0===this._finishedSpans.length)?Promise.resolve():new Promise((e,t)=>{let n=setTimeout(()=>{t(Error("Timeout"))},this._exportTimeoutMillis);rL._.with(rL._.active().setValue(rN,!0),()=>{let r;this._finishedSpans.length<=this._maxExportBatchSize?(r=this._finishedSpans,this._finishedSpans=[]):r=this._finishedSpans.splice(0,this._maxExportBatchSize);let i=()=>this._exporter.export(r,r=>{clearTimeout(n),r.code===m.SUCCESS?e():t(r.error??Error("BatchSpanProcessor: span export failed"))}),s=null;for(let e=0,t=r.length;e<t;e++){let t=r[e];t.resource.asyncAttributesPending&&t.resource.waitForAsyncAttributes&&(s??=[]).push(t.resource.waitForAsyncAttributes())}null===s?i():Promise.all(s).then(i,e=>{i0(e),t(e)})})})}_maybeStartTimer(){if(this._isExporting)return;let e=()=>{this._isExporting=!0,this._flushOneBatch().finally(()=>{this._isExporting=!1,this._finishedSpans.length>0&&(this._clearTimer(),this._maybeStartTimer())}).catch(e=>{this._isExporting=!1,i0(e)})};if(this._finishedSpans.length>=this._maxExportBatchSize)return e();void 0===this._timer&&(this._timer=setTimeout(()=>e(),this._scheduledDelayMillis),this._timer)}_clearTimer(){void 0!==this._timer&&(clearTimeout(this._timer),this._timer=void 0)}}class sf extends sp{_visibilityChangeListener;_pageHideListener;constructor(e,t){super(e,t),this.onInit(t)}onInit(e){e?.disableAutoFlushOnDocumentHide!==!0&&"undefined"!=typeof document&&(this._visibilityChangeListener=()=>{"hidden"===document.visibilityState&&this.forceFlush().catch(e=>{i0(e)})},this._pageHideListener=()=>{this.forceFlush().catch(e=>{i0(e)})},document.addEventListener("visibilitychange",this._visibilityChangeListener),document.addEventListener("pagehide",this._pageHideListener))}onShutdown(){"undefined"!=typeof document&&(this._visibilityChangeListener&&document.removeEventListener("visibilitychange",this._visibilityChangeListener),this._pageHideListener&&document.removeEventListener("pagehide",this._pageHideListener))}}class sh{constructor(e,t){this.processor=e,this.metas=t}forceFlush(){return this.processor.forceFlush()}onStart(e,t){var n;let r=this.metas.value.session;(null==r?void 0:r.id)&&(e.attributes["session.id"]=r.id,e.attributes.session_id=r.id);let i=null!=(n=this.metas.value.user)?n:{};i.email&&(e.attributes["user.email"]=i.email),i.id&&(e.attributes["user.id"]=i.id),i.username&&(e.attributes["user.name"]=i.username),i.fullName&&(e.attributes["user.full_name"]=i.fullName),i.roles&&(e.attributes["user.roles"]=i.roles.split(",").map(e=>e.trim())),i.hash&&(e.attributes["user.hash"]=i.hash),this.processor.onStart(e,t)}onEnd(e){this.processor.onEnd(e)}shutdown(){return this.processor.shutdown()}}var sg=n(9189),sm=n(3653);class sb{constructor(e){this.config=e}export(e,t){let n=(0,sg.sJ)(e,{useHex:!0,useLongBits:!1});this.config.api.pushTraces(n),function(e=[]){var t,n;for(let r of e){let{scopeSpans:e}=r;for(let r of e){let{scope:e,spans:i=[]}=r;for(let r of i){if(r.kind!==sm.i1.SPAN_KIND_CLIENT)continue;let i={traceId:r.traceId.toString(),spanId:r.spanId.toString()},s={};for(let e of r.attributes)s[e.key]=String(Object.values(e.value)[0]);Number.isNaN(r.endTimeUnixNano)||Number.isNaN(r.startTimeUnixNano)||(s.duration_ns=String(Number(r.endTimeUnixNano)-Number(r.startTimeUnixNano)));let o=(null!=(t=null==e?void 0:e.name)?t:"").indexOf("-"),a=eR;(null==e?void 0:e.name)&&(-1===o&&(a=null!=(n=e.name.split("/")[1])?n:e.name),o>-1&&(a=null==e?void 0:e.name.substring(o+1))),O.api.pushEvent(`faro.tracing.${a}`,s,void 0,{spanContext:i,timestampOverwriteMs:Number(r.endTimeUnixNano)/1e6,customPayloadTransformer:e=>{var t,n;return null!=s["faro.action.user.name"]&&null!=s["faro.action.user.parentId"]&&(e.action={name:s["faro.action.user.name"],parentId:s["faro.action.user.parentId"]},null==(t=e.attributes)||delete t["faro.action.user.name"],null==(n=e.attributes)||delete n["faro.action.user.parentId"]),e}})}}}}(n.resourceSpans),t({code:m.SUCCESS})}shutdown(){return Promise.resolve(void 0)}}class sv{constructor(e){this.processor=e,en.subscribe(e=>{if(e.type===G){this.message=e;return}[K,X,W].includes(e.type)&&(this.message=void 0)})}forceFlush(){return this.processor.forceFlush()}onStart(e,t){var n,r;e.kind===c.CLIENT&&this.message&&(e.attributes["faro.action.user.name"]=null==(n=this.message)?void 0:n.name,e.attributes["faro.action.user.parentId"]=null==(r=this.message)?void 0:r.parentId),this.processor.onStart(e,t)}onEnd(e){this.processor.onEnd(e)}shutdown(){return this.processor.shutdown()}}let s_=console.error.bind(console);function sy(e,t,n){let r=!!e[t]&&Object.prototype.propertyIsEnumerable.call(e,t);Object.defineProperty(e,t,{configurable:!0,enumerable:r,writable:!0,value:n})}let sw=(e,t,n)=>{if(!e||!e[t])return void s_("no original function "+String(t)+" to wrap");if(!n){s_("no wrapper function"),s_(Error().stack);return}let r=e[t];if("function"!=typeof r||"function"!=typeof n)return void s_("original object and wrapper must be functions");let i=n(r,t);return sy(i,"__original",r),sy(i,"__unwrap",()=>{e[t]===i&&sy(e,t,r)}),sy(i,"__wrapped",!0),sy(e,t,i),i},sS=(e,t,n)=>{if(e)Array.isArray(e)||(e=[e]);else{s_("must provide one or more modules to patch"),s_(Error().stack);return}if(!(t&&Array.isArray(t)))return void s_("must provide one or more functions to wrap on modules");e.forEach(e=>{t.forEach(t=>{sw(e,t,n)})})},sE=(e,t)=>{if(!e||!e[t]){s_("no function to unwrap."),s_(Error().stack);return}let n=e[t];if(n.__unwrap)return void n.__unwrap();s_("no original to unwrap to -- has "+String(t)+" already been unwrapped?")},sT=(e,t)=>{if(e)Array.isArray(e)||(e=[e]);else{s_("must provide one or more modules to patch"),s_(Error().stack);return}if(!(t&&Array.isArray(t)))return void s_("must provide one or more functions to unwrap on modules");e.forEach(e=>{t.forEach(t=>{sE(e,t)})})};function sO(e){e&&e.logger&&("function"!=typeof e.logger?s_("new logger isn't a function, not replacing"):s_=e.logger)}sO.wrap=sw,sO.massWrap=sS,sO.unwrap=sE,sO.massUnwrap=sT;class sA{instrumentationName;instrumentationVersion;_config={};_tracer;_meter;_logger;_diag;constructor(e,t,n){this.instrumentationName=e,this.instrumentationVersion=t,this.setConfig(n),this._diag=iv.s.createComponentLogger({namespace:e}),this._tracer=rx.u.getTracer(e,t),this._meter=io.getMeter(e,t),this._logger=ib.getLogger(e,t),this._updateMetricInstruments()}_wrap=sw;_unwrap=sE;_massWrap=sS;_massUnwrap=sT;get meter(){return this._meter}setMeterProvider(e){this._meter=e.getMeter(this.instrumentationName,this.instrumentationVersion),this._updateMetricInstruments()}get logger(){return this._logger}setLoggerProvider(e){this._logger=e.getLogger(this.instrumentationName,this.instrumentationVersion)}getModuleDefinitions(){let e=this.init()??[];return Array.isArray(e)?e:[e]}_updateMetricInstruments(){}getConfig(){return this._config}setConfig(e){this._config={enabled:!0,...e}}setTracerProvider(e){this._tracer=e.getTracer(this.instrumentationName,this.instrumentationVersion)}get tracer(){return this._tracer}_runSpanCustomizationHook(e,t,n,r){if(e)try{e(n,r)}catch(e){this._diag.error("Error running span customization hook due to exception in handler",{triggerName:t},e)}}}class sC extends sA{constructor(e,t,n){super(e,t,n),this._config.enabled&&this.enable()}}function sx(e,t){let n=b.OLD;for(let r of t?.split(",").map(e=>e.trim()).filter(e=>""!==e)??[])if(r.toLowerCase()===e+"/dup"){n=b.DUPLICATE;break}else r.toLowerCase()===e&&(n=b.STABLE);return n}function sL(e,t,n){let r,i;try{i=e()}catch(e){r=e}finally{if(t(r,i),r&&!n)throw r;return i}}function sR(e){return"function"==typeof e&&"function"==typeof e.__original&&"function"==typeof e.__unwrap&&!0===e.__wrapped}!function(e){e[e.STABLE=1]="STABLE",e[e.OLD=2]="OLD",e[e.DUPLICATE=3]="DUPLICATE"}(b||(b={}));var sI=n(8513),sP=n(9125);function sN(e,t,n,r=!0){if(t in n&&"number"==typeof n[t]&&!(r&&0===n[t]))return e.addEvent(t,n[t])}function sk(e,t,n=!1,r,i){if(void 0===r&&(r=0!==t[v.START_TIME]),n||(sN(e,v.FETCH_START,t,r),sN(e,v.DOMAIN_LOOKUP_START,t,r),sN(e,v.DOMAIN_LOOKUP_END,t,r),sN(e,v.CONNECT_START,t,r),sN(e,v.SECURE_CONNECTION_START,t,r),sN(e,v.CONNECT_END,t,r),sN(e,v.REQUEST_START,t,r),sN(e,v.RESPONSE_START,t,r),sN(e,v.RESPONSE_END,t,r)),!i){let n=t[v.ENCODED_BODY_SIZE];void 0!==n&&e.setAttribute("http.response_content_length",n);let r=t[v.DECODED_BODY_SIZE];void 0!==r&&n!==r&&e.setAttribute("http.response_content_length_uncompressed",r)}}function sD(){return"undefined"!=typeof location?location.origin:void 0}function sj(e,t,n,r,i=new WeakSet,s){let o=sM(e),a=function(e,t,n,r,i,s){let o=(0,sP.u5)(t),a=(0,sP.u5)(n),u=r.filter(t=>{let n=(0,sP.u5)((0,sP.KJ)(t[v.FETCH_START])),r=(0,sP.u5)((0,sP.KJ)(t[v.RESPONSE_END]));return t.initiatorType.toLowerCase()===(s||"xmlhttprequest")&&t.name===e&&n>=o&&r<=a});return u.length>0&&(u=u.filter(e=>!i.has(e))),u}(e=o.toString(),t,n,r,i,s);if(0===a.length)return{mainRequest:void 0};if(1===a.length)return{mainRequest:a[0]};let u=a.slice().sort((e,t)=>{let n=e[v.FETCH_START],r=t[v.FETCH_START];return n>r?1:n<r?-1:0});if(o.origin===sD()||!(u.length>1))return{mainRequest:a[0]};{let e=u[0],t=function(e,t,n){let r,i=(0,sP.u5)(n),s=(0,sP.u5)((0,sP.KJ)(t)),o=e[1],a=e.length;for(let t=1;t<a;t++){let n=e[t],a=(0,sP.u5)((0,sP.KJ)(n[v.FETCH_START])),u=i-(0,sP.u5)((0,sP.KJ)(n[v.RESPONSE_END]));a>=s&&(!r||u<r)&&(r=u,o=n)}return o}(u,e[v.RESPONSE_END],n),r=e[v.RESPONSE_END];return t[v.FETCH_START]<r&&(t=e,e=void 0),{corsPreFlightRequest:e,mainRequest:t}}}function sM(e){if("function"==typeof URL)return new URL(e,"undefined"!=typeof document?document.baseURI:"undefined"!=typeof location?location.href:void 0);let t=(a||(a=document.createElement("a")),a);return t.href=e,t}function sU(e,t){let n=t||[];return("string"==typeof n||n instanceof RegExp)&&(n=[n]),sM(e).origin===sD()||n.some(t=>(0,sI.f)(e,t))}!function(e){e.CONNECT_END="connectEnd",e.CONNECT_START="connectStart",e.DECODED_BODY_SIZE="decodedBodySize",e.DOM_COMPLETE="domComplete",e.DOM_CONTENT_LOADED_EVENT_END="domContentLoadedEventEnd",e.DOM_CONTENT_LOADED_EVENT_START="domContentLoadedEventStart",e.DOM_INTERACTIVE="domInteractive",e.DOMAIN_LOOKUP_END="domainLookupEnd",e.DOMAIN_LOOKUP_START="domainLookupStart",e.ENCODED_BODY_SIZE="encodedBodySize",e.FETCH_START="fetchStart",e.LOAD_EVENT_END="loadEventEnd",e.LOAD_EVENT_START="loadEventStart",e.NAVIGATION_START="navigationStart",e.REDIRECT_END="redirectEnd",e.REDIRECT_START="redirectStart",e.REQUEST_START="requestStart",e.RESPONSE_END="responseEnd",e.RESPONSE_START="responseStart",e.SECURE_CONNECTION_START="secureConnectionStart",e.START_TIME="startTime",e.UNLOAD_EVENT_END="unloadEventEnd",e.UNLOAD_EVENT_START="unloadEventStart"}(v||(v={})),!function(e){e.COMPONENT="component",e.HTTP_STATUS_TEXT="http.status_text"}(_||(_={}));var sB=n(6335),s$=n(5152);let sz=iv.s.createComponentLogger({namespace:"@opentelemetry/opentelemetry-instrumentation-fetch/utils"}),sF=new TextEncoder;function sV(e){return sF.encode(e).byteLength}let sH={CONNECT:!0,DELETE:!0,GET:!0,HEAD:!0,OPTIONS:!0,PATCH:!0,POST:!0,PUT:!0,TRACE:!0},sq={"https:":"443","http:":"80"},sG="0.202.0";var sK=n(4252),sW=n(4638);let sX="object"==typeof sW&&sW.release?.name==="node";class sJ extends sC{component="fetch";version=sG;moduleName=this.component;_usedResources=new WeakSet;_tasksCount=0;_semconvStability;constructor(e={}){super("@opentelemetry/instrumentation-fetch",sG,e),this._semconvStability=sx("http",e?.semconvStabilityOptIn)}init(){}_addChildSpan(e,t){let n=this.tracer.startSpan("CORS Preflight",{startTime:t[v.FETCH_START]},rx.u.setSpan(rL._.active(),e)),r=!(this._semconvStability&b.OLD);sk(n,t,this.getConfig().ignoreNetworkEvents,void 0,r),n.end(t[v.RESPONSE_END])}_addFinalSpanAttributes(e,t){let n=sM(t.url);if(this._semconvStability&b.OLD&&(e.setAttribute(sB.a3,t.status),null!=t.statusText&&e.setAttribute(_.HTTP_STATUS_TEXT,t.statusText),e.setAttribute(sB.Mm,n.host),e.setAttribute(sB.v8,n.protocol.replace(":","")),"undefined"!=typeof navigator&&e.setAttribute(sB.ds,navigator.userAgent)),this._semconvStability&b.STABLE){e.setAttribute(i_.OR,t.status),e.setAttribute(i_.kS,n.hostname);let r=function(e){let t=Number(e.port||sq[e.protocol]);return t&&!isNaN(t)?t:void 0}(n);r&&e.setAttribute(i_.A2,r)}}_addHeaders(e,t){if(!sU(t,this.getConfig().propagateTraceHeaderCorsUrls)){let e={};si.$.inject(rL._.active(),e),Object.keys(e).length>0&&this._diag.debug("headers inject skipped due to CORS policy");return}if(e instanceof Request)si.$.inject(rL._.active(),e.headers,{set:(e,t,n)=>e.set(t,"string"==typeof n?n:String(n))});else if(e.headers instanceof Headers)si.$.inject(rL._.active(),e.headers,{set:(e,t,n)=>e.set(t,"string"==typeof n?n:String(n))});else if(e.headers instanceof Map)si.$.inject(rL._.active(),e.headers,{set:(e,t,n)=>e.set(t,"string"==typeof n?n:String(n))});else{let t={};si.$.inject(rL._.active(),t),e.headers=Object.assign({},t,e.headers||{})}}_clearResources(){0===this._tasksCount&&this.getConfig().clearTimingResources&&(performance.clearResourceTimings(),this._usedResources=new WeakSet)}_createSpan(e,t={}){if(sI.K(e,this.getConfig().ignoreUrls))return void this._diag.debug("ignoring span as url matches ignored url");let n="",r={};if(this._semconvStability&b.OLD){let i=(t.method||"GET").toUpperCase();n=`HTTP ${i}`,r[_.COMPONENT]=this.moduleName,r[sB.rp]=i,r[sB.XV]=e}if(this._semconvStability&b.STABLE){let i=t.method,s=function(e){let t=function(){if(void 0===u){let e=(0,s$.f7)("OTEL_INSTRUMENTATION_HTTP_KNOWN_METHODS");e&&e.length>0?(u={},e.forEach(e=>{u[e]=!0})):u=sH}return u}(),n=e.toUpperCase();return n in t?n:"_OTHER"}(t.method||"GET");n||(n=s),r[i_.n4]=s,s!==i&&(r[i_.nW]=i),r[i_.WQ]=e}return this.tracer.startSpan(n,{kind:c.CLIENT,attributes:r})}_findResourceAndAddNetworkEvents(e,t,n){let r=t.entries;if(!r.length){if(!performance.getEntriesByType)return;r=performance.getEntriesByType("resource")}let i=sj(t.spanUrl,t.startTime,n,r,this._usedResources,"fetch");if(i.mainRequest){let t=i.mainRequest;this._markResourceAsUsed(t);let n=i.corsPreFlightRequest;n&&(this._addChildSpan(e,n),this._markResourceAsUsed(n));let r=!(this._semconvStability&b.OLD);sk(e,t,this.getConfig().ignoreNetworkEvents,void 0,r)}}_markResourceAsUsed(e){this._usedResources.add(e)}_endSpan(e,t,n){let r=sP.lg(Date.now()),i=sP._5();this._addFinalSpanAttributes(e,n),this._semconvStability&b.STABLE&&n.status>=400&&(e.setStatus({code:p.ERROR}),e.setAttribute(i_.oJ,String(n.status))),setTimeout(()=>{t.observer?.disconnect(),this._findResourceAndAddNetworkEvents(e,t,i),this._tasksCount--,this._clearResources(),e.end(r)},300)}_patchConstructor(){return e=>{let t=this;return function(...n){let r=this,i=sM(n[0]instanceof Request?n[0].url:String(n[0])).href,s=n[0]instanceof Request?n[0]:n[1]||{},o=t._createSpan(i,s);if(!o)return e.apply(this,n);let a=t._prepareSpanData(i);function u(e,n){t._applyAttributesAfterFetch(e,s,n),t._endSpan(e,a,{status:n.status||0,statusText:n.message,url:i})}function l(e,n){t._applyAttributesAfterFetch(e,s,n),n.status>=200&&n.status<400?t._endSpan(e,a,n):t._endSpan(e,a,{status:n.status,statusText:n.statusText,url:i})}function c(e,t,n){try{let t=n.clone().body;if(t){let r=t.getReader(),i=()=>{r.read().then(({done:t})=>{t?l(e,n):i()},t=>{u(e,t)})};i()}else l(e,n)}finally{t(n)}}function d(e,t,n){try{u(e,n)}finally{t(n)}}return t.getConfig().measureRequestSize&&(function(...e){if(e[0]instanceof URL||"string"==typeof e[0]){let t=e[1];if(!t?.body)return Promise.resolve();if(!(t.body instanceof ReadableStream))return Promise.resolve(function(e){return"undefined"!=typeof Document&&e instanceof Document?new XMLSerializer().serializeToString(document).length:"string"==typeof e?sV(e):e instanceof Blob?e.size:e instanceof FormData?function(e){let t=0;for(let[n,r]of e.entries())t+=n.length,r instanceof Blob?t+=r.size:t+=r.length;return t}(e):e instanceof URLSearchParams?sV(e.toString()):void 0!==e.byteLength?e.byteLength:void sz.warn("unknown body type")}(t.body));{let{body:e,length:n}=function(e){let t;if(!e.pipeThrough)return sz.warn("Platform has ReadableStream but not pipeThrough!"),{body:e,length:Promise.resolve(void 0)};let n=0,r=new Promise(e=>{t=e}),i=new TransformStream({start(){},async transform(e,t){let r=await e;n+=r.byteLength,t.enqueue(e)},flush(){t(n)}});return{body:e.pipeThrough(i),length:r}}(t.body);return t.body=e,n}}{let t=e[0];return t?.body?t.clone().text().then(e=>sV(e)):Promise.resolve()}})(...n).then(e=>{e&&(t._semconvStability&b.OLD&&o.setAttribute(sB.z4,e),t._semconvStability&b.STABLE&&o.setAttribute(sB.Me,e))}).catch(e=>{t._diag.warn("getFetchBodyLength",e)}),new Promise((n,a)=>rL._.with(rx.u.setSpan(rL._.active(),o),()=>(t._addHeaders(s,i),t._callRequestHook(o,s),t._tasksCount++,e.apply(r,s instanceof Request?[s]:[i,s]).then(c.bind(r,o,n),d.bind(r,o,a)))))}}}_applyAttributesAfterFetch(e,t,n){let r=this.getConfig().applyCustomAttributesOnSpan;r&&sL(()=>r(e,t,n),e=>{e&&this._diag.error("applyCustomAttributesOnSpan",e)},!0)}_callRequestHook(e,t){let n=this.getConfig().requestHook;n&&sL(()=>n(e,t),e=>{e&&this._diag.error("requestHook",e)},!0)}_prepareSpanData(e){let t=sP._5(),n=[];if("function"!=typeof PerformanceObserver)return{entries:n,startTime:t,spanUrl:e};let r=new PerformanceObserver(t=>{t.getEntries().forEach(t=>{"fetch"===t.initiatorType&&t.name===e&&n.push(t)})});return r.observe({entryTypes:["resource"]}),{entries:n,observer:r,startTime:t,spanUrl:e}}enable(){if(sX)return void this._diag.warn("this instrumentation is intended for web usage only, it does not instrument Node.js's fetch()");sR(fetch)&&(this._unwrap(sK.X,"fetch"),this._diag.debug("removing previous patch for constructor")),this._wrap(sK.X,"fetch",this._patchConstructor())}disable(){sX||(this._unwrap(sK.X,"fetch"),this._usedResources=new WeakSet)}}var sQ=n(4843);!function(e){e.METHOD_OPEN="open",e.METHOD_SEND="send",e.EVENT_ABORT="abort",e.EVENT_ERROR="error",e.EVENT_LOAD="loaded",e.EVENT_TIMEOUT="timeout"}(y||(y={}));let sY=iv.s.createComponentLogger({namespace:"@opentelemetry/opentelemetry-instrumentation-xml-http-request/utils"}),sZ=new TextEncoder;function s0(e){return sZ.encode(e).byteLength}let s1={CONNECT:!0,DELETE:!0,GET:!0,HEAD:!0,OPTIONS:!0,PATCH:!0,POST:!0,PUT:!0,TRACE:!0},s2={"https:":"443","http:":"80"},s3="0.202.0";(w||(w={})).HTTP_STATUS_TEXT="http.status_text";class s6 extends sC{component="xml-http-request";version=s3;moduleName=this.component;_tasksCount=0;_xhrMem=new WeakMap;_usedResources=new WeakSet;_semconvStability;constructor(e={}){super("@opentelemetry/instrumentation-xml-http-request",s3,e),this._semconvStability=sx("http",e?.semconvStabilityOptIn)}init(){}_addHeaders(e,t){if(!sU(sM(t).href,this.getConfig().propagateTraceHeaderCorsUrls)){let e={};si.$.inject(rL._.active(),e),Object.keys(e).length>0&&this._diag.debug("headers inject skipped due to CORS policy");return}let n={};si.$.inject(rL._.active(),n),Object.keys(n).forEach(t=>{e.setRequestHeader(t,String(n[t]))})}_addChildSpan(e,t){rL._.with(rx.u.setSpan(rL._.active(),e),()=>{let e=this.tracer.startSpan("CORS Preflight",{startTime:t[v.FETCH_START]}),n=!(this._semconvStability&b.OLD);sk(e,t,this.getConfig().ignoreNetworkEvents,void 0,n),e.end(t[v.RESPONSE_END])})}_addFinalSpanAttributes(e,t,n){if(this._semconvStability&b.OLD){if(void 0!==t.status&&e.setAttribute("http.status_code",t.status),void 0!==t.statusText&&e.setAttribute(w.HTTP_STATUS_TEXT,t.statusText),"string"==typeof n){let t=sM(n);e.setAttribute("http.host",t.host),e.setAttribute("http.scheme",t.protocol.replace(":",""))}e.setAttribute("http.user_agent",navigator.userAgent)}this._semconvStability&b.STABLE&&t.status&&e.setAttribute(i_.OR,t.status)}_applyAttributesAfterXHR(e,t){let n=this.getConfig().applyCustomAttributesOnSpan;"function"==typeof n&&sL(()=>n(e,t),e=>{e&&this._diag.error("applyCustomAttributesOnSpan",e)},!0)}_addResourceObserver(e,t){let n=this._xhrMem.get(e);n&&"function"==typeof PerformanceObserver&&"function"==typeof PerformanceResourceTiming&&(n.createdResources={observer:new PerformanceObserver(e=>{let r=e.getEntries(),i=sM(t);r.forEach(e=>{"xmlhttprequest"===e.initiatorType&&e.name===i.href&&n.createdResources&&n.createdResources.entries.push(e)})}),entries:[]},n.createdResources.observer.observe({entryTypes:["resource"]}))}_clearResources(){0===this._tasksCount&&this.getConfig().clearTimingResources&&(sQ.u.clearResourceTimings(),this._xhrMem=new WeakMap,this._usedResources=new WeakSet)}_findResourceAndAddNetworkEvents(e,t,n,r,i){if(!n||!r||!i||!e.createdResources)return;let s=e.createdResources.entries;s&&s.length||(s=sQ.u.getEntriesByType("resource"));let o=sj(sM(n).href,r,i,s,this._usedResources);if(o.mainRequest){let e=o.mainRequest;this._markResourceAsUsed(e);let n=o.corsPreFlightRequest;n&&(this._addChildSpan(t,n),this._markResourceAsUsed(n));let r=!(this._semconvStability&b.OLD);sk(t,e,this.getConfig().ignoreNetworkEvents,void 0,r)}}_cleanPreviousSpanInformation(e){let t=this._xhrMem.get(e);if(t){let n=t.callbackToRemoveEvents;n&&n(),this._xhrMem.delete(e)}}_createSpan(e,t,n){if((0,sI.K)(t,this.getConfig().ignoreUrls))return void this._diag.debug("ignoring span as url matches ignored url");let r="",i=sM(t),s={};if(this._semconvStability&b.OLD&&(r=n.toUpperCase(),s["http.method"]=n,s["http.url"]=i.toString()),this._semconvStability&b.STABLE){let e=function(e){let t=function(){if(void 0===l){let e=(0,s$.f7)("OTEL_INSTRUMENTATION_HTTP_KNOWN_METHODS");e&&e.length>0?(l={},e.forEach(e=>{l[e]=!0})):l=s1}return l}(),n=e.toUpperCase();return n in t?n:"_OTHER"}(n);r||(r=e),s[i_.n4]=e,e!==n&&(s[i_.nW]=n),s[i_.WQ]=i.toString(),s[i_.kS]=i.hostname;let t=function(e){let t=Number(e.port||s2[e.protocol]);return t&&!isNaN(t)?t:void 0}(i);t&&(s[i_.A2]=t)}let o=this.tracer.startSpan(r,{kind:c.CLIENT,attributes:s});return o.addEvent(y.METHOD_OPEN),this._cleanPreviousSpanInformation(e),this._xhrMem.set(e,{span:o,spanUrl:t}),o}_markResourceAsUsed(e){this._usedResources.add(e)}_patchOpen(){return e=>{let t=this;return function(...n){let r=n[0],i=n[1];return t._createSpan(this,i,r),e.apply(this,n)}}}_patchSend(){let e=this;function t(t,n,r,i){let s=e._xhrMem.get(n);if(!s)return;if(s.status=n.status,s.statusText=n.statusText,e._xhrMem.delete(n),s.span){let t=s.span;e._applyAttributesAfterXHR(t,n),e._semconvStability&b.STABLE&&(r?i&&(t.setStatus({code:p.ERROR,message:i}),t.setAttribute(i_.oJ,i)):s.status&&s.status>=400&&(t.setStatus({code:p.ERROR}),t.setAttribute(i_.oJ,String(s.status))))}let o=(0,sP._5)(),a=Date.now();setTimeout(()=>{let n=s.callbackToRemoveEvents;"function"==typeof n&&n();let{span:r,spanUrl:i,sendStartTime:u}=s;r&&(e._findResourceAndAddNetworkEvents(s,r,i,u,o),r.addEvent(t,a),e._addFinalSpanAttributes(r,s,i),r.end(a),e._tasksCount--),e._clearResources()},300)}function n(){t(y.EVENT_ERROR,this,!0,"error")}function r(){t(y.EVENT_ABORT,this,!1)}function i(){t(y.EVENT_TIMEOUT,this,!0,"timeout")}function s(){this.status<299?t(y.EVENT_LOAD,this,!1):t(y.EVENT_ERROR,this,!1)}return t=>function(...o){let a=e._xhrMem.get(this);if(!a)return t.apply(this,o);let u=a.span,l=a.spanUrl;if(u&&l){if(e.getConfig().measureRequestSize&&o?.[0]){var c,d;let t=(d=c=o[0],"undefined"!=typeof Document&&d instanceof Document)?new XMLSerializer().serializeToString(document).length:"string"==typeof c?s0(c):c instanceof Blob?c.size:c instanceof FormData?function(e){let t=0;for(let[n,r]of e.entries())t+=n.length,r instanceof Blob?t+=r.size:t+=r.length;return t}(c):c instanceof URLSearchParams?s0(c.toString()):void 0!==c.byteLength?c.byteLength:void sY.warn("unknown body type");void 0!==t&&(e._semconvStability&b.OLD&&u.setAttribute("http.request_content_length_uncompressed",t),e._semconvStability&b.STABLE&&u.setAttribute("http.request.body.size",t))}rL._.with(rx.u.setSpan(rL._.active(),u),()=>{e._tasksCount++,a.sendStartTime=(0,sP._5)(),u.addEvent(y.METHOD_SEND),this.addEventListener("abort",r),this.addEventListener("error",n),this.addEventListener("load",s),this.addEventListener("timeout",i),a.callbackToRemoveEvents=()=>{this.removeEventListener("abort",r),this.removeEventListener("error",n),this.removeEventListener("load",s),this.removeEventListener("timeout",i);let t=e._xhrMem.get(this);t&&(t.callbackToRemoveEvents=void 0),a.createdResources&&a.createdResources.observer.disconnect()},e._addHeaders(this,l),e._addResourceObserver(this,l)})}return t.apply(this,o)}}enable(){this._diag.debug("applying patch to",this.moduleName,this.version),sR(XMLHttpRequest.prototype.open)&&(this._unwrap(XMLHttpRequest.prototype,"open"),this._diag.debug("removing previous patch from method open")),sR(XMLHttpRequest.prototype.send)&&(this._unwrap(XMLHttpRequest.prototype,"send"),this._diag.debug("removing previous patch from method send")),this._wrap(XMLHttpRequest.prototype,"open",this._patchOpen()),this._wrap(XMLHttpRequest.prototype,"send",this._patchSend())}disable(){this._diag.debug("removing patch from",this.moduleName,this.version),this._unwrap(XMLHttpRequest.prototype,"open"),this._unwrap(XMLHttpRequest.prototype,"send"),this._tasksCount=0,this._xhrMem=new WeakMap,this._usedResources=new WeakSet}}class s5 extends s6{constructor(e={}){super(e),this.parentCreateSpan=this._createSpan.bind(this)}_patchOpen(){return e=>{let t=this;return function(...n){try{let e=n[0],r=e8(n[1]);t.parentCreateSpan(this,r,e)}catch(e){O.internalLogger.error(e)}return e.apply(this,n)}}}}function s9(e,t){null!=t&&(0===t||t>=400&&t<600)&&e.setStatus({code:p.ERROR})}var s4=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class s8 extends e9{constructor(e={}){super(),this.options=e,this.name="@grafana/faro-web-tracing",this.version=eu}initialize(){var e,t,n,r,i;let s=this.options,o={};this.config.app.name&&(o[i_.UX]=this.config.app.name),this.config.app.namespace&&(o["service.namespace"]=this.config.app.namespace),this.config.app.version&&(o[i_.HZ]=this.config.app.version),this.config.app.environment&&(o["deployment.environment.name"]=this.config.app.environment,o["deployment.environment"]=this.config.app.environment);let a=this.metas.value.browser;D(null==a?void 0:a.brands)&&(o["browser.brands"]=a.brands.map(e=>e.brand)),(null==a?void 0:a.language)&&(o["browser.language"]=a.language),"boolean"==typeof(null==a?void 0:a.mobile)&&(o["browser.mobile"]=!!a.mobile),(null==a?void 0:a.os)&&(o["browser.platform"]=a.os),(null==a?void 0:a.userAgent)&&(o[i_.Mz]=a.userAgent),o["process.runtime.name"]="browser",o["process.runtime.version"]=null==(e=this.metas.value.browser)?void 0:e.userAgent,o["telemetry.distro.name"]="faro-web-sdk",o["telemetry.distro.version"]=eu,Object.assign(o,s.resourceAttributes),new sl({resource:iT().merge(iE(o)),sampler:{shouldSample:()=>({decision:function(e={}){var t;return(null==(t=e.attributes)?void 0:t.isSampled)==="true"?f.RECORD_AND_SAMPLED:f.NOT_RECORD}(this.api.getSession())})},spanProcessors:[null!=(t=s.spanProcessor)?t:new sv(new sh(new sf(new sb({api:this.api}),{scheduledDelayMillis:s8.SCHEDULED_BATCH_DELAY_MS,maxExportBatchSize:30}),this.metas))]}).register({propagator:null!=(n=s.propagator)?n:new rq,contextManager:s.contextManager});let{propagateTraceHeaderCorsUrls:u,fetchInstrumentationOptions:l,xhrInstrumentationOptions:c}=null!=(r=this.options.instrumentationOptions)?r:{};!function(e){let t=e.tracerProvider||rx.u.getTracerProvider(),n=e.meterProvider||io.getMeterProvider(),r=e.loggerProvider||ib.getLoggerProvider(),i=e.instrumentations?.flat()??[];for(let e=0,s=i.length;e<s;e++){let s=i[e];t&&s.setTracerProvider(t),n&&s.setMeterProvider(n),r&&s.setLoggerProvider&&s.setLoggerProvider(r),s.getConfig().enabled||s.enable()}}({instrumentations:null!=(i=s.instrumentations)?i:function(e={}){var t,n,r,i;let{fetchInstrumentationOptions:s,xhrInstrumentationOptions:o}=e,a=s4(e,["fetchInstrumentationOptions","xhrInstrumentationOptions"]),u=(t=s,Object.assign(Object.assign(Object.assign(Object.assign({},a),{ignoreNetworkEvents:!0}),t),{applyCustomAttributesOnSpan:(n=null==t?void 0:t.applyCustomAttributesOnSpan,(e,t,r)=>{s9(e,r instanceof Error?0:r.status),null==n||n(e,t,r)})})),l=(r=o,Object.assign(Object.assign(Object.assign(Object.assign({},a),{ignoreNetworkEvents:!0}),r),{applyCustomAttributesOnSpan:(i=null==r?void 0:r.applyCustomAttributesOnSpan,(e,t)=>{s9(e,t.status),null==i||i(e,t)})}));return[new sJ(u),new s5(l)]}({ignoreUrls:this.getIgnoreUrls(),propagateTraceHeaderCorsUrls:u,fetchInstrumentationOptions:l,xhrInstrumentationOptions:c})}),this.api.initOTEL(rx.u,rL._)}getIgnoreUrls(){return this.transports.transports.flatMap(e=>e.getIgnoreUrls())}}function s7(e){let{}=e;if(O.api)return null;try{var t={url:"https://faro-collector-prod-ap-northeast-0.grafana.net/collect/1c8bf52d49f406b79e9f9605bf7b9037",app:{name:"auth-ui",version:"1.0.0",environment:"production"},instrumentations:[...rA(),new s8]};let e=function(e){var t;let n=[],r=ea(e.unpatchedConsole,e.internalLoggerLevel);e.transports?((e.url||e.apiKey)&&r.error('if "transports" is defined, "url" and "apiKey" should not be defined'),n.push(...e.transports)):e.url?n.push(new e5({url:e.url,apiKey:e.apiKey})):r.error('either "url" or "transports" must be defined');let{dedupe:o=!0,eventDomain:a="browser",globalObjectKey:u="faro",instrumentations:l=rA(),internalLoggerLevel:c=es,isolate:d=!1,logArgsSerializer:p=ee,metas:f=function(e){var t,n;let{page:r,generatePageId:o}=null!=(t=null==e?void 0:e.pageTracking)?t:{},a=[eI,function({generatePageId:e,initialPageMeta:t}={}){return()=>{let n=location.href;return k(e)&&i!==n&&(i=n,s=e(location)),{page:Object.assign(Object.assign({url:n},s?{id:s}:{}),t)}}}({generatePageId:o,initialPageMeta:r}),...null!=(n=e.metas)?n:[]];return N(window.k6)?[...a,eP]:a}(e),paused:h=!1,preventGlobalExposure:g=!1,unpatchedConsole:m=eo,trackUserActionsPreview:b=!1,trackUserActionsDataAttributeName:v="data-faro-user-action-name",url:_}=e;return Object.assign(Object.assign({},rC(e,["dedupe","eventDomain","globalObjectKey","instrumentations","internalLoggerLevel","isolate","logArgsSerializer","metas","paused","preventGlobalExposure","unpatchedConsole","trackUserActionsPreview","trackUserActionsDataAttributeName","url"])),{batching:Object.assign(Object.assign({},ed),e.batching),dedupe:o,globalObjectKey:u,instrumentations:function(e,{trackUserActionsPreview:t}){return e.filter(e=>"@grafana/faro-web-sdk:instrumentation-user-action"!==e.name||!!t)}(l,e),internalLoggerLevel:c,isolate:d,logArgsSerializer:p,metas:f,parseStacktrace:eT,paused:h,preventGlobalExposure:g,transports:n,unpatchedConsole:m,eventDomain:a,ignoreUrls:[...null!=(t=e.ignoreUrls)?t:[],..._?[_]:[],/\/collect(?:\/[\w]*)?$/],sessionTracking:Object.assign(Object.assign(Object.assign({},eA),e.sessionTracking),function({trackGeolocation:e,sessionTracking:t}){var n;let r={};return(x(e,"boolean")&&(r.geoLocationTrackingEnabled=e),B(r))?{}:{session:Object.assign(Object.assign({},null!=(n=null==t?void 0:t.session)?n:{}),{overrides:r})}}({trackGeolocation:e.trackGeolocation,sessionTracking:e.sessionTracking})),trackUserActionsPreview:b,trackUserActionsDataAttributeName:v})}(t);e&&!function(e){var t,n;let i=ec=null!=(t=e.unpatchedConsole)?t:ec,s=ea(i,e.internalLoggerLevel);if(T in E&&!e.isolate)return s.error('Faro is already registered. Either add instrumentations, transports etc. to the global faro instance or use the "isolate" property');s.debug("Initializing");let o=function(e,t,n){let r=[],i=[],s=()=>r.reduce((e,t)=>Object.assign(e,k(t)?t():t),{}),o=()=>{if(i.length){let e=s();i.forEach(t=>t(e))}};return{add:(...e)=>{t.debug("Adding metas\n",e),r.push(...e),o()},remove:(...e)=>{t.debug("Removing metas\n",e),r=r.filter(t=>!e.includes(t)),o()},addListener:e=>{t.debug("Adding metas listener\n",e),i.push(e)},removeListener:e=>{t.debug("Removing metas listener\n",e),i=i.filter(t=>t!==e)},get value(){return s()}}}(0,s,0),a=function(e,t,n,r){var i;let s;t.debug("Initializing transports");let o=[],a=n.paused,u=[],l=e=>{let t=e;for(let e of u){let r=t.map(e).filter(Boolean);if(0===r.length)return[];t=function(e,t){if(t.preserveOriginalError)for(let t of e)t.type===tv.EXCEPTION&&delete t.payload.originalError;return e}(r,n)}return t};return(null==(i=n.batching)?void 0:i.enabled)&&(s=new el(e=>{let n=l(e);if(0!==n.length)for(let e of o)t.debug(`Transporting item using ${e.name}
`,n),e.isBatched()&&e.send(n)},{sendTimeout:n.batching.sendTimeout,itemLimit:n.batching.itemLimit,paused:a})),{add:(...i)=>{t.debug("Adding transports"),i.forEach(i=>{if(t.debug(`Adding "${i.name}" transport`),o.some(e=>e===i))return void t.warn(`Transport ${i.name} is already added`);i.unpatchedConsole=e,i.internalLogger=t,i.config=n,i.metas=r,o.push(i)})},addBeforeSendHooks:(...e)=>{t.debug("Adding beforeSendHooks\n",u),e.forEach(e=>{e&&u.push(e)})},getBeforeSendHooks:()=>[...u],execute:e=>{var r;a||((null==(r=n.batching)?void 0:r.enabled)&&(null==s||s.addItem(e)),(e=>{var r,i;if((null==(r=n.batching)?void 0:r.enabled)&&o.every(e=>e.isBatched()))return;let[s]=l([e]);if(void 0!==s)for(let e of o)t.debug(`Transporting item using ${e.name}
`,s),e.isBatched()?(null==(i=n.batching)?void 0:i.enabled)||e.send([s]):e.send(s)})(e))},isPaused:()=>a,pause:()=>{t.debug("Pausing transports"),null==s||s.pause(),a=!0},remove:(...e)=>{t.debug("Removing transports"),e.forEach(e=>{t.debug(`Removing "${e.name}" transport`);let n=o.indexOf(e);if(-1===n)return void t.warn(`Transport "${e.name}" is not added`);o.splice(n,1)})},removeBeforeSendHooks:(...e)=>{u.filter(t=>!e.includes(t))},get transports(){return[...o]},unpause:()=>{t.debug("Unpausing transports"),null==s||s.start(),a=!1}}}(i,s,e,o),u=function(e,t,n,i,s){let o;t.debug("Initializing API");let{actionBuffer:a,getMessage:u}=function({apiMessageBus:e,transports:t,config:n}){let r,i=new et,s=n.trackUserActionsExcludeItem;return e.subscribe(e=>{if(G===e.type||X===e.type){r=e;return}if(e.type===K){let{id:n,name:o}=e;i.flushBuffer(e=>{var r,i;if(r=e,i=s,(null==i?void 0:i(r))||r.type===tv.MEASUREMENT&&"web-vitals"===r.payload.type)return void t.execute(e);let a=Object.assign(Object.assign({},e),{payload:Object.assign(Object.assign({},e.payload),{action:{parentId:n,name:o}})});t.execute(a)}),r=void 0;return}e.type===W&&(r=void 0,i.flushBuffer(e=>{t.execute(e)}))}),{actionBuffer:i,getMessage:()=>r}}({apiMessageBus:en,transports:s,config:n}),l=(t.debug("Initializing traces API"),{getOTEL:()=>o,getTraceContext:()=>{let e=null==o?void 0:o.trace.getSpanContext(o.context.active());return e?{trace_id:e.traceId,span_id:e.spanId}:void 0},initOTEL:(e,n)=>{t.debug("Initializing OpenTelemetry"),o={trace:e,context:n}},isOTELInitialized:()=>!!o,pushTraces:e=>{try{let n={type:tv.TRACE,payload:e,meta:i.value};t.debug("Pushing trace\n",n),s.execute(n)}catch(e){t.error("Error pushing trace\n",e)}}}),c={unpatchedConsole:e,internalLogger:t,config:n,metas:i,transports:s,tracesApi:l,actionBuffer:a,getMessage:u};return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},l),function({internalLogger:e,config:t,metas:n,transports:i,tracesApi:s,actionBuffer:o,getMessage:a}){var u;e.debug("Initializing exceptions API");let l=null;r=null!=(u=t.parseStacktrace)?u:r;let c=t=>{e.debug("Changing stacktrace parser"),r=null!=t?t:r},{ignoreErrors:d=[],preserveOriginalError:p}=t;return c(t.parseStacktrace),{changeStacktraceParser:c,getStacktraceParser:()=>r,pushError:(u,{skipDedupe:c,stackFrames:f,type:h,context:g,spanContext:m,timestampOverwriteMs:b,originalError:v}={})=>{if(!function(e,t){var n;let{message:r,name:i,stack:s}=t;return n=r+" "+i+" "+s,e.some(e=>P(e)?n.includes(e):!!n.match(e))}(d,null!=v?v:u))try{var _;let d,y=z(Object.assign(Object.assign({},(d=(_=null!=v?v:u).cause,U(d)?d=_.cause.toString():null!==d&&(N(_.cause)||D(_.cause))?d=$(_.cause):null!=d&&(d=_.cause.toString()),null==d?{}:{cause:d})),null!=g?g:{})),w={meta:n.value,payload:Object.assign(Object.assign({type:h||u.name||J,value:u.message,timestamp:b?H(b):V(),trace:m?{trace_id:m.traceId,span_id:m.spanId}:s.getTraceContext()},B(y)?{}:{context:y}),p?{originalError:v}:{}),type:tv.EXCEPTION};(null==(f=null!=f?f:u.stack?null==r?void 0:r(u).frames:void 0)?void 0:f.length)&&(w.payload.stacktrace={frames:f});let S={type:w.payload.type,value:w.payload.value,stackTrace:w.payload.stacktrace,context:w.payload.context};if(!c&&t.dedupe&&!I(l)&&q(S,l))return void e.debug("Skipping error push because it is the same as the last one\n",w.payload);l=S,e.debug("Pushing exception\n",w);let E=a();E&&E.type===G?o.addItem(w):i.execute(w)}catch(t){e.error("Error pushing event",t)}}}}(c)),function({internalLogger:e,metas:t}){let n,r,i,s;e.debug("Initializing meta API");let o=e=>{r&&t.remove(r),r={user:e},t.add(r)},a=(e,r)=>{var i;let s=null==r?void 0:r.overrides,o=s?{overrides:Object.assign(Object.assign({},null==(i=null==n?void 0:n.session)?void 0:i.overrides),s)}:{};n&&t.remove(n),n={session:Object.assign(Object.assign({},B(e)?void 0:e),o)},t.add(n)},u=()=>t.value.session,l=()=>t.value.page;return{setUser:o,resetUser:o,setSession:a,resetSession:a,getSession:u,setView:(e,n)=>{var r;if((null==n?void 0:n.overrides)&&a(u(),{overrides:n.overrides}),(null==(r=null==i?void 0:i.view)?void 0:r.name)===(null==e?void 0:e.name))return;let s=i;i={view:e},t.add(i),s&&t.remove(s)},getView:()=>t.value.view,setPage:e=>{var n;let r=P(e)?Object.assign(Object.assign({},null!=(n=null==s?void 0:s.page)?n:l()),{id:e}):e;s&&t.remove(s),s={page:r},t.add(s)},getPage:l}}(c)),function({internalLogger:e,config:t,metas:n,transports:r,tracesApi:i,actionBuffer:s,getMessage:o}){var a;e.debug("Initializing logs API");let u=null,l=null!=(a=t.logArgsSerializer)?a:ee;return{pushLog:(a,{context:c,level:d,skipDedupe:p,spanContext:f,timestampOverwriteMs:h}={})=>{try{let g=z(c),m={type:tv.LOG,payload:{message:l(a),level:null!=d?d:Y,context:B(g)?void 0:g,timestamp:h?H(h):V(),trace:f?{trace_id:f.traceId,span_id:f.spanId}:i.getTraceContext()},meta:n.value},b={message:m.payload.message,level:m.payload.level,context:m.payload.context};if(!p&&t.dedupe&&!I(u)&&q(b,u))return void e.debug("Skipping log push because it is the same as the last one\n",m.payload);u=b,e.debug("Pushing log\n",m);let v=o();v&&v.type===G?s.addItem(m):r.execute(m)}catch(t){e.error("Error pushing log\n",t)}}}}(c)),function({internalLogger:e,config:t,metas:n,transports:r,tracesApi:i,actionBuffer:s,getMessage:o}){e.debug("Initializing measurements API");let a=null;return{pushMeasurement:(u,{skipDedupe:l,context:c,spanContext:d,timestampOverwriteMs:p}={})=>{try{let f=z(c),h={type:tv.MEASUREMENT,payload:Object.assign(Object.assign({},u),{trace:d?{trace_id:d.traceId,span_id:d.spanId}:i.getTraceContext(),timestamp:p?H(p):V(),context:B(f)?void 0:f}),meta:n.value},g={type:h.payload.type,values:h.payload.values,context:h.payload.context};if(!l&&t.dedupe&&!I(a)&&q(g,a))return void e.debug("Skipping measurement push because it is the same as the last one\n",h.payload);a=g,e.debug("Pushing measurement\n",h);let m=o();m&&m.type===G?s.addItem(h):r.execute(h)}catch(t){e.error("Error pushing measurement\n",t)}}}}(c)),function({internalLogger:e,config:t,metas:n,transports:r,tracesApi:i,actionBuffer:s,getMessage:o}){let a=null;return{pushEvent:(u,l,c,{skipDedupe:d,spanContext:p,timestampOverwriteMs:f,customPayloadTransformer:h=e=>e}={})=>{try{let g=z(l),m={meta:n.value,payload:h({name:u,domain:null!=c?c:t.eventDomain,attributes:B(g)?void 0:g,timestamp:f?H(f):V(),trace:p?{trace_id:p.traceId,span_id:p.spanId}:i.getTraceContext()}),type:tv.EVENT},b={name:m.payload.name,attributes:m.payload.attributes,domain:m.payload.domain};if(!d&&t.dedupe&&!I(a)&&q(b,a))return void e.debug("Skipping event push because it is the same as the last one\n",m.payload);a=b,e.debug("Pushing event\n",m);let v=o();v&&v.type===G?s.addItem(m):r.execute(m)}catch(t){e.error("Error pushing event",t)}}}}(c))}(i,s,e,o,a),l=function(e,t,n,r,i,s){t.debug("Initializing instrumentations");let o=[];return{add:(...a)=>{t.debug("Adding instrumentations"),a.forEach(a=>{if(t.debug(`Adding "${a.name}" instrumentation`),o.some(e=>e.name===a.name))return void t.warn(`Instrumentation ${a.name} is already added`);a.unpatchedConsole=e,a.internalLogger=t,a.config=n,a.metas=r,a.transports=i,a.api=s,o.push(a),a.initialize()})},get instrumentations(){return[...o]},remove:(...e)=>{t.debug("Removing instrumentations"),e.forEach(e=>{var n,r;t.debug(`Removing "${e.name}" instrumentation`);let i=o.reduce((t,n,r)=>null===t&&n.name===e.name?r:null,null);if(null===i)return void t.warn(`Instrumentation "${e.name}" is not added`);null==(r=(n=o[i]).destroy)||r.call(n),o.splice(i,1)})}}}(i,s,e,o,a,u),c=(s.debug("Initializing Faro"),(n=O={api:u,config:e,instrumentations:l,internalLogger:s,metas:o,pause:a.pause,transports:a,unpatchedConsole:i,unpause:a.unpause}).config.isolate?n.internalLogger.debug("Skipping registering internal Faro instance on global object"):(n.internalLogger.debug("Registering internal Faro instance on global object"),Object.defineProperty(E,T,{configurable:!1,enumerable:!1,writable:!1,value:n})),!function(e){if(e.config.preventGlobalExposure)e.internalLogger.debug("Skipping registering public Faro instance in the global scope");else{if(e.internalLogger.debug(`Registering public faro reference in the global scope using "${e.config.globalObjectKey}" key`),e.config.globalObjectKey in E)return e.internalLogger.warn(`Skipping global registration due to key "${e.config.globalObjectKey}" being used already. Please set "globalObjectKey" to something else or set "preventGlobalExposure" to "true"`);Object.defineProperty(E,e.config.globalObjectKey,{configurable:!1,writable:!1,value:e})}}(O),O);!function(e){var t,n,r;let i={sdk:{version:eu},app:{bundleId:e.config.app.name&&(r=e.config.app.name,null==E?void 0:E[`__faroBundleId_${r}`])}},s=null==(t=e.config.sessionTracking)?void 0:t.session;s&&e.api.setSession(s),e.config.app&&(i.app=Object.assign(Object.assign({},e.config.app),i.app)),e.config.user&&(i.user=e.config.user),e.config.view&&(i.view=e.config.view),e.metas.add(i,...null!=(n=e.config.metas)?n:[])}(c),c.transports.add(...c.config.transports),c.transports.addBeforeSendHooks(c.config.beforeSend),c.instrumentations.add(...c.config.instrumentations)}(e)}catch(e){}return null}function oe(e){let{Component:t,pageProps:n}=e;return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(s7,{}),(0,S.jsx)(t,{...n})]})}s8.SCHEDULED_BATCH_DELAY_MS=1e3,n(3898)},977:(e,t,n)=>{"use strict";n.d(t,{B:()=>c,L:()=>l});var r=n(1720),i=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,s=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o},s=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o=function(){function e(e){this._entries=e?new Map(e):new Map}return e.prototype.getEntry=function(e){var t=this._entries.get(e);if(t)return Object.assign({},t)},e.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map(function(e){var t=i(e,2);return[t[0],t[1]]})},e.prototype.setEntry=function(t,n){var r=new e(this._entries);return r._entries.set(t,n),r},e.prototype.removeEntry=function(t){var n=new e(this._entries);return n._entries.delete(t),n},e.prototype.removeEntries=function(){for(var t,n,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=new e(this._entries);try{for(var a=s(r),u=a.next();!u.done;u=a.next()){var l=u.value;o._entries.delete(l)}}catch(e){t={error:e}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return o},e.prototype.clear=function(){return new e},e}(),a=Symbol("BaggageEntryMetadata"),u=r.K.instance();function l(e){return void 0===e&&(e={}),new o(new Map(Object.entries(e)))}function c(e){return"string"!=typeof e&&(u.error("Cannot create baggage metadata from unknown type: "+typeof e),e=""),{__TYPE__:a,toString:function(){return e}}}},1284:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AnchoredClock:()=>m,BindOnceFuture:()=>eb,CompositePropagator:()=>P,ExportResultCode:()=>r,RPCType:()=>i,SDK_INFO:()=>C,TRACE_PARENT_HEADER:()=>V,TRACE_STATE_HEADER:()=>H,TimeoutError:()=>ef,TraceState:()=>F,W3CBaggagePropagator:()=>g,W3CTraceContextPropagator:()=>K,_globalThis:()=>L.X,addHrTimes:()=>O.mw,callWithTimeout:()=>eh,deleteRPCMetadata:()=>J,diagLogLevelFromString:()=>ey,getBooleanFromEnv:()=>R.Ix,getNumberFromEnv:()=>R.Jk,getRPCMetadata:()=>Q,getStringFromEnv:()=>R.HF,getStringListFromEnv:()=>R.f7,getTimeOrigin:()=>O.uc,globalErrorHandler:()=>T,hrTime:()=>O._5,hrTimeDuration:()=>O.W5,hrTimeToMicroseconds:()=>O.w_,hrTimeToMilliseconds:()=>O.JU,hrTimeToNanoseconds:()=>O.u5,hrTimeToTimeStamp:()=>O.tq,internal:()=>eS,isAttributeValue:()=>_,isTimeInput:()=>O.Ir,isTimeInputHrTime:()=>O.VL,isTracingSuppressed:()=>c,isUrlIgnored:()=>eg.K,loggingErrorHandler:()=>w,merge:()=>eo,millisToHrTime:()=>O.lg,otperformance:()=>I.u,parseKeyPairsIntoRecord:()=>h,parseTraceParent:()=>G,sanitizeAttributes:()=>v,setGlobalErrorHandler:()=>E,setRPCMetadata:()=>X,suppressTracing:()=>u,timeInputToHrTime:()=>O.KJ,unrefTimer:()=>x,unsuppressTracing:()=>l,urlMatches:()=>eg.f});var r,i,s=n(8069),o=n(3107);let a=(0,o.n)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function u(e){return e.setValue(a,!0)}function l(e){return e.deleteValue(a)}function c(e){return!0===e.getValue(a)}let d="baggage";var p=n(977);function f(e){let t,n=e.split(";");if(n.length<=0)return;let r=n.shift();if(!r)return;let i=r.indexOf("=");if(i<=0)return;let s=decodeURIComponent(r.substring(0,i).trim()),o=decodeURIComponent(r.substring(i+1).trim());return n.length>0&&(t=(0,p.B)(n.join(";"))),{key:s,value:o,metadata:t}}function h(e){let t={};return"string"==typeof e&&e.length>0&&e.split(",").forEach(e=>{let n=f(e);void 0!==n&&n.value.length>0&&(t[n.key]=n.value)}),t}class g{inject(e,t,n){let r=s.$.getBaggage(e);if(!r||c(e))return;let i=r.getAllEntries().map(([e,t])=>{let n=`${encodeURIComponent(e)}=${encodeURIComponent(t.value)}`;return void 0!==t.metadata&&(n+=";"+t.metadata.toString()),n}).filter(e=>e.length<=4096).slice(0,180).reduce((e,t)=>{let n=`${e}${""!==e?",":""}${t}`;return n.length>8192?e:n},"");i.length>0&&n.set(t,d,i)}extract(e,t,n){let r=n.get(t,d),i=Array.isArray(r)?r.join(","):r;if(!i)return e;let o={};return 0===i.length||(i.split(",").forEach(e=>{let t=f(e);if(t){let e={value:t.value};t.metadata&&(e.metadata=t.metadata),o[t.key]=e}}),0===Object.entries(o).length)?e:s.$.setBaggage(e,s.$.createBaggage(o))}fields(){return[d]}}class m{_monotonicClock;_epochMillis;_performanceMillis;constructor(e,t){this._monotonicClock=t,this._epochMillis=e.now(),this._performanceMillis=t.now()}now(){let e=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+e}}var b=n(9034);function v(e){let t={};if("object"!=typeof e||null==e)return t;for(let[r,i]of Object.entries(e)){var n;if(!("string"==typeof(n=r)&&n.length>0)){b.s.warn(`Invalid attribute key: ${r}`);continue}if(!_(i)){b.s.warn(`Invalid attribute value set for key: ${r}`);continue}Array.isArray(i)?t[r]=i.slice():t[r]=i}return t}function _(e){return null==e||(Array.isArray(e)?function(e){let t;for(let n of e)if(null!=n){if(!t){if(y(n)){t=typeof n;continue}return!1}if(typeof n!==t)return!1}return!0}(e):y(e))}function y(e){switch(typeof e){case"number":case"boolean":case"string":return!0}return!1}function w(){return e=>{var t;b.s.error("string"==typeof(t=e)?t:JSON.stringify(function(e){let t={},n=e;for(;null!==n;)Object.getOwnPropertyNames(n).forEach(e=>{if(t[e])return;let r=n[e];r&&(t[e]=String(r))}),n=Object.getPrototypeOf(n);return t}(t)))}}let S=w();function E(e){S=e}function T(e){try{S(e)}catch{}}var O=n(9125);!function(e){e[e.SUCCESS=0]="SUCCESS",e[e.FAILED=1]="FAILED"}(r||(r={}));var A=n(620);let C={[A.aO]:"opentelemetry","process.runtime.name":"browser",[A.E$]:A.qV,[A.aJ]:"2.0.1"};function x(e){}var L=n(4252),R=n(5152),I=n(4843);class P{_propagators;_fields;constructor(e={}){this._propagators=e.propagators??[],this._fields=Array.from(new Set(this._propagators.map(e=>"function"==typeof e.fields?e.fields():[]).reduce((e,t)=>e.concat(t),[])))}inject(e,t,n){for(let r of this._propagators)try{r.inject(e,t,n)}catch(e){b.s.warn(`Failed to inject with ${r.constructor.name}. Err: ${e.message}`)}}extract(e,t,n){return this._propagators.reduce((e,r)=>{try{return r.extract(e,t,n)}catch(e){b.s.warn(`Failed to extract with ${r.constructor.name}. Err: ${e.message}`)}return e},e)}fields(){return this._fields.slice()}}var N=n(1630),k=n(1369),D=n(2495);let j="[_0-9a-z-*/]",M=`[a-z]${j}{0,255}`,U=`[a-z0-9]${j}{0,240}@[a-z]${j}{0,13}`,B=RegExp(`^(?:${M}|${U})$`),$=/^[ -~]{0,255}[!-~]$/,z=/,|=/;class F{_internalState=new Map;constructor(e){e&&this._parse(e)}set(e,t){let n=this._clone();return n._internalState.has(e)&&n._internalState.delete(e),n._internalState.set(e,t),n}unset(e){let t=this._clone();return t._internalState.delete(e),t}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce((e,t)=>(e.push(t+"="+this.get(t)),e),[]).join(",")}_parse(e){!(e.length>512)&&(this._internalState=e.split(",").reverse().reduce((e,t)=>{let n=t.trim(),r=n.indexOf("=");if(-1!==r){let i=n.slice(0,r),s=n.slice(r+1,t.length);B.test(i)&&$.test(s)&&!z.test(s)&&e.set(i,s)}return e},new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let e=new F;return e._internalState=new Map(this._internalState),e}}let V="traceparent",H="tracestate",q=RegExp("^\\s?((?!ff)[\\da-f]{2})-((?![0]{32})[\\da-f]{32})-((?![0]{16})[\\da-f]{16})-([\\da-f]{2})(-.*)?\\s?$");function G(e){let t=q.exec(e);return!t||"00"===t[1]&&t[5]?null:{traceId:t[2],spanId:t[3],traceFlags:parseInt(t[4],16)}}class K{inject(e,t,n){let r=N.u.getSpanContext(e);if(!r||c(e)||!(0,k.YA)(r))return;let i=`00-${r.traceId}-${r.spanId}-0${Number(r.traceFlags||D.X.NONE).toString(16)}`;n.set(t,V,i),r.traceState&&n.set(t,H,r.traceState.serialize())}extract(e,t,n){let r=n.get(t,V);if(!r)return e;let i=Array.isArray(r)?r[0]:r;if("string"!=typeof i)return e;let s=G(i);if(!s)return e;s.isRemote=!0;let o=n.get(t,H);if(o){let e=Array.isArray(o)?o.join(","):o;s.traceState=new F("string"==typeof e?e:void 0)}return N.u.setSpanContext(e,s)}fields(){return[V,H]}}let W=(0,o.n)("OpenTelemetry SDK Context Key RPC_METADATA");function X(e,t){return e.setValue(W,t)}function J(e){return e.deleteValue(W)}function Q(e){return e.getValue(W)}(i||(i={})).HTTP="http";let Y=Function.prototype.toString,Z=Y.call(Object),ee=Object.getPrototypeOf,et=Object.prototype,en=et.hasOwnProperty,er=Symbol?Symbol.toStringTag:void 0,ei=et.toString;function es(e){var t,n,r;if(null==(t=e)||"object"!=typeof t||"[object Object]"!==(null==(n=e)?void 0===n?"[object Undefined]":"[object Null]":er&&er in Object(n)?function(e){let t=en.call(e,er),n=e[er],r=!1;try{e[er]=void 0,r=!0}catch(e){}let i=ei.call(e);return r&&(t?e[er]=n:delete e[er]),i}(n):(r=n,ei.call(r))))return!1;let i=ee(e);if(null===i)return!0;let s=en.call(i,"constructor")&&i.constructor;return"function"==typeof s&&s instanceof s&&Y.call(s)===Z}function eo(...e){let t=e.shift(),n=new WeakMap;for(;e.length>0;)t=function e(t,n,r=0,i){let s;if(!(r>20)){if(r++,ep(t)||ep(n)||ec(n))s=ea(n);else if(el(t)){if(s=t.slice(),el(n))for(let e=0,t=n.length;e<t;e++)s.push(ea(n[e]));else if(ed(n)){let e=Object.keys(n);for(let t=0,r=e.length;t<r;t++){let r=e[t];s[r]=ea(n[r])}}}else if(ed(t))if(ed(n)){var o,a;if(o=t,a=n,!(es(o)&&es(a)))return n;s=Object.assign({},t);let u=Object.keys(n);for(let o=0,a=u.length;o<a;o++){let a=u[o],l=n[a];if(ep(l))void 0===l?delete s[a]:s[a]=l;else{let o=s[a];if(eu(t,a,i)||eu(n,a,i))delete s[a];else{if(ed(o)&&ed(l)){let e=i.get(o)||[],r=i.get(l)||[];e.push({obj:t,key:a}),r.push({obj:n,key:a}),i.set(o,e),i.set(l,r)}s[a]=e(s[a],l,r,i)}}}}else s=n;return s}}(t,e.shift(),0,n);return t}function ea(e){return el(e)?e.slice():e}function eu(e,t,n){let r=n.get(e[t])||[];for(let n=0,i=r.length;n<i;n++){let i=r[n];if(i.key===t&&i.obj===e)return!0}return!1}function el(e){return Array.isArray(e)}function ec(e){return"function"==typeof e}function ed(e){return!ep(e)&&!el(e)&&!ec(e)&&"object"==typeof e}function ep(e){return"string"==typeof e||"number"==typeof e||"boolean"==typeof e||void 0===e||e instanceof Date||e instanceof RegExp||null===e}class ef extends Error{constructor(e){super(e),Object.setPrototypeOf(this,ef.prototype)}}function eh(e,t){let n;return Promise.race([e,new Promise(function(e,r){n=setTimeout(function(){r(new ef("Operation timed out."))},t)})]).then(e=>(clearTimeout(n),e),e=>{throw clearTimeout(n),e})}var eg=n(8513);class em{_promise;_resolve;_reject;constructor(){this._promise=new Promise((e,t)=>{this._resolve=e,this._reject=t})}get promise(){return this._promise}resolve(e){this._resolve(e)}reject(e){this._reject(e)}}class eb{_callback;_that;_isCalled=!1;_deferred=new em;constructor(e,t){this._callback=e,this._that=t}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...e){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...e)).then(e=>this._deferred.resolve(e),e=>this._deferred.reject(e))}catch(e){this._deferred.reject(e)}}return this._deferred.promise}}var ev=n(4369);let e_={ALL:ev.u.ALL,VERBOSE:ev.u.VERBOSE,DEBUG:ev.u.DEBUG,INFO:ev.u.INFO,WARN:ev.u.WARN,ERROR:ev.u.ERROR,NONE:ev.u.NONE};function ey(e){if(null==e)return;let t=e_[e.toUpperCase()];return null==t?(b.s.warn(`Unknown log level "${e}", expected one of ${Object.keys(e_)}, using default`),ev.u.INFO):t}var ew=n(7010);let eS={_export:function(e,t){return new Promise(n=>{ew._.with(u(ew._.active()),()=>{e.export(t,e=>{n(e)})})})}}},1369:(e,t,n)=>{"use strict";n.d(t,{IP:()=>l,YA:()=>u,hX:()=>a});var r=n(8932),i=n(3e3),s=/^([0-9a-f]{32})$/i,o=/^[0-9a-f]{16}$/i;function a(e){return s.test(e)&&e!==r.RH}function u(e){var t;return a(e.traceId)&&(t=e.spanId,o.test(t)&&t!==r.w9)}function l(e){return new i.d(e)}},1630:(e,t,n)=>{"use strict";n.d(t,{u:()=>E});var r=n(7079),i=n(6639),s=n(3107),o=n(3e3),a=(0,s.n)("OpenTelemetry Context Key SPAN");function u(e){return e.getValue(a)||void 0}function l(){return u(i._.getInstance().active())}function c(e,t){return e.setValue(a,t)}function d(e){return e.deleteValue(a)}function p(e,t){return c(e,new o.d(t))}function f(e){var t;return null==(t=u(e))?void 0:t.spanContext()}var h=n(1369),g=i._.getInstance(),m=function(){function e(){}return e.prototype.startSpan=function(e,t,n){if(void 0===n&&(n=g.active()),null==t?void 0:t.root)return new o.d;var r,i=n&&f(n);return"object"==typeof(r=i)&&"string"==typeof r.spanId&&"string"==typeof r.traceId&&"number"==typeof r.traceFlags&&(0,h.YA)(i)?new o.d(i):new o.d},e.prototype.startActiveSpan=function(e,t,n,r){if(!(arguments.length<2)){2==arguments.length?o=t:3==arguments.length?(i=t,o=n):(i=t,s=n,o=r);var i,s,o,a=null!=s?s:g.active(),u=this.startSpan(e,i,a),l=c(a,u);return g.with(l,o,void 0,u)}},e}(),b=new m,v=function(){function e(e,t,n,r){this._provider=e,this.name=t,this.version=n,this.options=r}return e.prototype.startSpan=function(e,t,n){return this._getTracer().startSpan(e,t,n)},e.prototype.startActiveSpan=function(e,t,n,r){var i=this._getTracer();return Reflect.apply(i.startActiveSpan,i,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):b},e}(),_=new(function(){function e(){}return e.prototype.getTracer=function(e,t,n){return new m},e}()),y=function(){function e(){}return e.prototype.getTracer=function(e,t,n){var r;return null!=(r=this.getDelegateTracer(e,t,n))?r:new v(this,e,t,n)},e.prototype.getDelegate=function(){var e;return null!=(e=this._delegate)?e:_},e.prototype.setDelegate=function(e){this._delegate=e},e.prototype.getDelegateTracer=function(e,t,n){var r;return null==(r=this._delegate)?void 0:r.getTracer(e,t,n)},e}(),w=n(1720),S="trace",E=(function(){function e(){this._proxyTracerProvider=new y,this.wrapSpanContext=h.IP,this.isSpanContextValid=h.YA,this.deleteSpan=d,this.getSpan=u,this.getActiveSpan=l,this.getSpanContext=f,this.setSpan=c,this.setSpanContext=p}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(e){var t=(0,r.$G)(S,this._proxyTracerProvider,w.K.instance());return t&&this._proxyTracerProvider.setDelegate(e),t},e.prototype.getTracerProvider=function(){return(0,r.mS)(S)||this._proxyTracerProvider},e.prototype.getTracer=function(e,t){return this.getTracerProvider().getTracer(e,t)},e.prototype.disable=function(){(0,r.kv)(S,w.K.instance()),this._proxyTracerProvider=new y},e})().getInstance()},1720:(e,t,n)=>{"use strict";n.d(t,{K:()=>d});var r=n(7079),i=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,s=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o},s=function(e,t,n){if(n||2==arguments.length)for(var r,i=0,s=t.length;i<s;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},o=function(){function e(e){this._namespace=e.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a("debug",this._namespace,e)},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a("error",this._namespace,e)},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a("info",this._namespace,e)},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a("warn",this._namespace,e)},e.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a("verbose",this._namespace,e)},e}();function a(e,t,n){var o=(0,r.mS)("diag");if(o)return n.unshift(t),o[e].apply(o,s([],i(n),!1))}var u=n(4369),l=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,s=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o},c=function(e,t,n){if(n||2==arguments.length)for(var r,i=0,s=t.length;i<s;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},d=function(){function e(){function e(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=(0,r.mS)("diag");if(i)return i[e].apply(i,c([],l(t),!1))}}var t=this;t.setLogger=function(e,n){if(void 0===n&&(n={logLevel:u.u.INFO}),e===t){var i,s,o,a=Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return t.error(null!=(i=a.stack)?i:a.message),!1}"number"==typeof n&&(n={logLevel:n});var l=(0,r.mS)("diag"),c=function(e,t){function n(n,r){var i=t[n];return"function"==typeof i&&e>=r?i.bind(t):function(){}}return e<u.u.NONE?e=u.u.NONE:e>u.u.ALL&&(e=u.u.ALL),t=t||{},{error:n("error",u.u.ERROR),warn:n("warn",u.u.WARN),info:n("info",u.u.INFO),debug:n("debug",u.u.DEBUG),verbose:n("verbose",u.u.VERBOSE)}}(null!=(s=n.logLevel)?s:u.u.INFO,e);if(l&&!n.suppressOverrideMessage){var d=null!=(o=Error().stack)?o:"<failed to generate stacktrace>";l.warn("Current logger will be overwritten from "+d),c.warn("Current logger will overwrite one already registered from "+d)}return(0,r.$G)("diag",c,t,!0)},t.disable=function(){(0,r.kv)("diag",t)},t.createComponentLogger=function(e){return new o(e)},t.verbose=e("verbose"),t.debug=e("debug"),t.info=e("info"),t.warn=e("warn"),t.error=e("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}()},2495:(e,t,n)=>{"use strict";var r;n.d(t,{X:()=>r}),function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"}(r||(r={}))},3e3:(e,t,n)=>{"use strict";n.d(t,{d:()=>i});var r=n(8932),i=function(){function e(e){void 0===e&&(e=r.dM),this._spanContext=e}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(e,t){return this},e.prototype.setAttributes=function(e){return this},e.prototype.addEvent=function(e,t){return this},e.prototype.addLink=function(e){return this},e.prototype.addLinks=function(e){return this},e.prototype.setStatus=function(e){return this},e.prototype.updateName=function(e){return this},e.prototype.end=function(e){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(e,t){},e}()},3107:(e,t,n)=>{"use strict";function r(e){return Symbol.for(e)}n.d(t,{l:()=>i,n:()=>r});var i=new function e(t){var n=this;n._currentContext=t?new Map(t):new Map,n.getValue=function(e){return n._currentContext.get(e)},n.setValue=function(t,r){var i=new e(n._currentContext);return i._currentContext.set(t,r),i},n.deleteValue=function(t){var r=new e(n._currentContext);return r._currentContext.delete(t),r}}},3573:(e,t)=>{"use strict";function n(e){return Object.keys(e).map(t=>r(t,e[t]))}function r(e,t){return{key:e,value:i(t)}}function i(e){let t=typeof e;return"string"===t?{stringValue:e}:"number"===t?Number.isInteger(e)?{intValue:e}:{doubleValue:e}:"boolean"===t?{boolValue:e}:e instanceof Uint8Array?{bytesValue:e}:Array.isArray(e)?{arrayValue:{values:e.map(i)}}:"object"===t&&null!=e?{kvlistValue:{values:Object.entries(e).map(([e,t])=>r(e,t))}}:{}}Object.defineProperty(t,"__esModule",{value:!0}),t.toAnyValue=t.toKeyValue=t.toAttributes=t.createInstrumentationScope=t.createResource=void 0,t.createResource=function(e){return{attributes:n(e.attributes),droppedAttributesCount:0}},t.createInstrumentationScope=function(e){return{name:e.name,version:e.version}},t.toAttributes=n,t.toKeyValue=r,t.toAnyValue=i},3653:(e,t)=>{"use strict";t.BR=t.i1=void 0,function(e){e[e.SPAN_KIND_UNSPECIFIED=0]="SPAN_KIND_UNSPECIFIED",e[e.SPAN_KIND_INTERNAL=1]="SPAN_KIND_INTERNAL",e[e.SPAN_KIND_SERVER=2]="SPAN_KIND_SERVER",e[e.SPAN_KIND_CLIENT=3]="SPAN_KIND_CLIENT",e[e.SPAN_KIND_PRODUCER=4]="SPAN_KIND_PRODUCER",e[e.SPAN_KIND_CONSUMER=5]="SPAN_KIND_CONSUMER"}(t.i1||(t.i1={})),function(e){e[e.STATUS_CODE_UNSET=0]="STATUS_CODE_UNSET",e[e.STATUS_CODE_OK=1]="STATUS_CODE_OK",e[e.STATUS_CODE_ERROR=2]="STATUS_CODE_ERROR"}(t.BR||(t.BR={}))},3898:()=>{},4252:(e,t,n)=>{"use strict";n.d(t,{X:()=>r});let r="object"==typeof globalThis?globalThis:"object"==typeof self?self:"object"==typeof window?window:"object"==typeof n.g?n.g:{}},4369:(e,t,n)=>{"use strict";var r;n.d(t,{u:()=>r}),function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"}(r||(r={}))},4843:(e,t,n)=>{"use strict";n.d(t,{u:()=>r});let r=performance},5152:(e,t,n)=>{"use strict";function r(e){}function i(e){}function s(e){}function o(e){}n.d(t,{HF:()=>r,Ix:()=>i,Jk:()=>s,f7:()=>o})},5165:(e,t)=>{"use strict";function n(e){return e>=48&&e<=57?e-48:e>=97&&e<=102?e-87:e-55}Object.defineProperty(t,"__esModule",{value:!0}),t.hexToBinary=void 0,t.hexToBinary=function(e){let t=new Uint8Array(e.length/2),r=0;for(let i=0;i<e.length;i+=2){let s=n(e.charCodeAt(i)),o=n(e.charCodeAt(i+1));t[r++]=s<<4|o}return t}},6335:(e,t)=>{"use strict";t.ds=t.XV=t.a3=t.v8=t.z4=t.Me=t.rp=t.Mm=void 0,t.Mm="http.host",t.rp="http.method",t.Me="http.request.body.size",t.z4="http.request_content_length_uncompressed",t.v8="http.scheme",t.a3="http.status_code",t.XV="http.url",t.ds="http.user_agent"},6639:(e,t,n)=>{"use strict";n.d(t,{_:()=>f});var r=n(3107),i=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,s=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o},s=function(e,t,n){if(n||2==arguments.length)for(var r,i=0,s=t.length;i<s;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},o=function(){function e(){}return e.prototype.active=function(){return r.l},e.prototype.with=function(e,t,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];return t.call.apply(t,s([n],i(r),!1))},e.prototype.bind=function(e,t){return t},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}(),a=n(7079),u=n(1720),l=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,s=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o},c=function(e,t,n){if(n||2==arguments.length)for(var r,i=0,s=t.length;i<s;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},d="context",p=new o,f=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(e){return(0,a.$G)(d,e,u.K.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(e,t,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];return(r=this._getContextManager()).with.apply(r,c([e,t,n],l(i),!1))},e.prototype.bind=function(e,t){return this._getContextManager().bind(e,t)},e.prototype._getContextManager=function(){return(0,a.mS)(d)||p},e.prototype.disable=function(){this._getContextManager().disable(),(0,a.kv)(d,u.K.instance())},e}()},6722:(e,t,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return n(681)}])},7010:(e,t,n)=>{"use strict";n.d(t,{_:()=>r});var r=n(6639)._.getInstance()},7079:(e,t,n)=>{"use strict";n.d(t,{mS:()=>l,$G:()=>u,kv:()=>c});var r="object"==typeof globalThis?globalThis:"object"==typeof self?self:"object"==typeof window?window:"object"==typeof n.g?n.g:{},i="1.9.0",s=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/,o=function(e){var t=new Set([e]),n=new Set,r=e.match(s);if(!r)return function(){return!1};var i={major:+r[1],minor:+r[2],patch:+r[3],prerelease:r[4]};if(null!=i.prerelease)return function(t){return t===e};function o(e){return n.add(e),!1}return function(e){if(t.has(e))return!0;if(n.has(e))return!1;var r=e.match(s);if(!r)return o(e);var a={major:+r[1],minor:+r[2],patch:+r[3],prerelease:r[4]};if(null!=a.prerelease||i.major!==a.major)return o(e);if(0===i.major)return i.minor===a.minor&&i.patch<=a.patch?(t.add(e),!0):o(e);return i.minor<=a.minor?(t.add(e),!0):o(e)}}(i),a=Symbol.for("opentelemetry.js.api."+i.split(".")[0]);function u(e,t,n,s){void 0===s&&(s=!1);var o,u=r[a]=null!=(o=r[a])?o:{version:i};if(!s&&u[e]){var l=Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return n.error(l.stack||l.message),!1}if(u.version!==i){var l=Error("@opentelemetry/api: Registration of version v"+u.version+" for "+e+" does not match previously registered API v"+i);return n.error(l.stack||l.message),!1}return u[e]=t,n.debug("@opentelemetry/api: Registered a global for "+e+" v"+i+"."),!0}function l(e){var t,n,i=null==(t=r[a])?void 0:t.version;if(i&&o(i))return null==(n=r[a])?void 0:n[e]}function c(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+i+".");var n=r[a];n&&delete n[e]}},8069:(e,t,n)=>{"use strict";n.d(t,{$:()=>b});var r=n(7079),i=function(){function e(){}return e.prototype.inject=function(e,t){},e.prototype.extract=function(e,t){return e},e.prototype.fields=function(){return[]},e}(),s={get:function(e,t){if(null!=e)return e[t]},keys:function(e){return null==e?[]:Object.keys(e)}},o={set:function(e,t,n){null!=e&&(e[t]=n)}},a=n(6639),u=(0,n(3107).n)("OpenTelemetry Baggage Key");function l(e){return e.getValue(u)||void 0}function c(){return l(a._.getInstance().active())}function d(e,t){return e.setValue(u,t)}function p(e){return e.deleteValue(u)}var f=n(977),h=n(1720),g="propagation",m=new i,b=(function(){function e(){this.createBaggage=f.L,this.getBaggage=l,this.getActiveBaggage=c,this.setBaggage=d,this.deleteBaggage=p}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalPropagator=function(e){return(0,r.$G)(g,e,h.K.instance())},e.prototype.inject=function(e,t,n){return void 0===n&&(n=o),this._getGlobalPropagator().inject(e,t,n)},e.prototype.extract=function(e,t,n){return void 0===n&&(n=s),this._getGlobalPropagator().extract(e,t,n)},e.prototype.fields=function(){return this._getGlobalPropagator().fields()},e.prototype.disable=function(){(0,r.kv)(g,h.K.instance())},e.prototype._getGlobalPropagator=function(){return(0,r.mS)(g)||m},e})().getInstance()},8513:(e,t,n)=>{"use strict";function r(e,t){return"string"==typeof t?e===t:!!e.match(t)}function i(e,t){if(!t)return!1;for(let n of t)if(r(e,n))return!0;return!1}n.d(t,{K:()=>i,f:()=>r})},8932:(e,t,n)=>{"use strict";n.d(t,{RH:()=>s,dM:()=>o,w9:()=>i});var r=n(2495),i="0000000000000000",s="00000000000000000000000000000000",o={traceId:s,spanId:i,traceFlags:r.X.NONE}},9013:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOtlpEncoder=t.encodeAsString=t.encodeAsLongBits=t.toLongBits=t.hrTimeToNanos=void 0;let r=n(1284),i=n(5165);function s(e){let t=BigInt(1e9);return BigInt(e[0])*t+BigInt(e[1])}function o(e){return{low:Number(BigInt.asUintN(32,e)),high:Number(BigInt.asUintN(32,e>>BigInt(32)))}}function a(e){return o(s(e))}function u(e){return s(e).toString()}t.hrTimeToNanos=s,t.toLongBits=o,t.encodeAsLongBits=a,t.encodeAsString=u;let l="undefined"!=typeof BigInt?u:r.hrTimeToNanoseconds;function c(e){return e}function d(e){if(void 0!==e)return(0,i.hexToBinary)(e)}let p={encodeHrTime:a,encodeSpanContext:i.hexToBinary,encodeOptionalSpanContext:d};t.getOtlpEncoder=function(e){if(void 0===e)return p;let t=e.useLongBits??!0,n=e.useHex??!1;return{encodeHrTime:t?a:l,encodeSpanContext:n?c:i.hexToBinary,encodeOptionalSpanContext:n?c:d}}},9034:(e,t,n)=>{"use strict";n.d(t,{s:()=>r});var r=n(1720).K.instance()},9125:(e,t,n)=>{"use strict";n.d(t,{Ir:()=>h,JU:()=>d,KJ:()=>a,VL:()=>f,W5:()=>u,_5:()=>o,lg:()=>i,mw:()=>g,tq:()=>l,u5:()=>c,uc:()=>s,w_:()=>p});var r=n(4843);function i(e){return[Math.trunc(e/1e3),Math.round(e%1e3*1e6)]}function s(){let e=r.u.timeOrigin;if("number"!=typeof e){let t=r.u;e=t.timing&&t.timing.fetchStart}return e}function o(e){return g(i(s()),i("number"==typeof e?e:r.u.now()))}function a(e){if(f(e))return e;if("number"==typeof e)if(e<s())return o(e);else return i(e);if(e instanceof Date)return i(e.getTime());throw TypeError("Invalid input type")}function u(e,t){let n=t[0]-e[0],r=t[1]-e[1];return r<0&&(n-=1,r+=1e9),[n,r]}function l(e){let t=`${"0".repeat(9)}${e[1]}Z`,n=t.substring(t.length-9-1);return new Date(1e3*e[0]).toISOString().replace("000Z",n)}function c(e){return 1e9*e[0]+e[1]}function d(e){return 1e3*e[0]+e[1]/1e6}function p(e){return 1e6*e[0]+e[1]/1e3}function f(e){return Array.isArray(e)&&2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]}function h(e){return f(e)||"number"==typeof e||e instanceof Date}function g(e,t){let n=[e[0]+t[0],e[1]+t[1]];return n[1]>=1e9&&(n[1]-=1e9,n[0]+=1),n}},9189:(e,t,n)=>{"use strict";t.sJ=void 0;let r=n(3573),i=n(9013);t.sJ=function(e,t){return{resourceSpans:function(e,t){let n=function(e){let t=new Map;for(let n of e){let e=t.get(n.resource);e||(e=new Map,t.set(n.resource,e));let r=`${n.instrumentationScope.name}@${n.instrumentationScope.version||""}:${n.instrumentationScope.schemaUrl||""}`,i=e.get(r);i||(i=[],e.set(r,i)),i.push(n)}return t}(e),i=[],s=n.entries(),o=s.next();for(;!o.done;){let[e,n]=o.value,a=[],u=n.values(),l=u.next();for(;!l.done;){let e=l.value;if(e.length>0){let n=e.map(e=>(function(e,t){let n=e.spanContext(),i=e.status,s=e.parentSpanContext?.spanId?t.encodeSpanContext(e.parentSpanContext?.spanId):void 0;return{traceId:t.encodeSpanContext(n.traceId),spanId:t.encodeSpanContext(n.spanId),parentSpanId:s,traceState:n.traceState?.serialize(),name:e.name,kind:null==e.kind?0:e.kind+1,startTimeUnixNano:t.encodeHrTime(e.startTime),endTimeUnixNano:t.encodeHrTime(e.endTime),attributes:(0,r.toAttributes)(e.attributes),droppedAttributesCount:e.droppedAttributesCount,events:e.events.map(e=>(function(e,t){return{attributes:e.attributes?(0,r.toAttributes)(e.attributes):[],name:e.name,timeUnixNano:t.encodeHrTime(e.time),droppedAttributesCount:e.droppedAttributesCount||0}})(e,t)),droppedEventsCount:e.droppedEventsCount,status:{code:i.code,message:i.message},links:e.links.map(e=>(function(e,t){return{attributes:e.attributes?(0,r.toAttributes)(e.attributes):[],spanId:t.encodeSpanContext(e.context.spanId),traceId:t.encodeSpanContext(e.context.traceId),traceState:e.context.traceState?.serialize(),droppedAttributesCount:e.droppedAttributesCount||0}})(e,t)),droppedLinksCount:e.droppedLinksCount}})(e,t));a.push({scope:(0,r.createInstrumentationScope)(e[0].instrumentationScope),spans:n,schemaUrl:e[0].instrumentationScope.schemaUrl})}l=u.next()}let c={resource:(0,r.createResource)(e),scopeSpans:a,schemaUrl:void 0};i.push(c),o=s.next()}return i}(e,(0,i.getOtlpEncoder)(t))}}}},e=>{var t=t=>e(e.s=t);e.O(0,[593,792],()=>(t(6722),t(5208))),_N_E=e.O()}]);
//# sourceMappingURL=_app-1b0d2a8a05b2d9a9.js.map